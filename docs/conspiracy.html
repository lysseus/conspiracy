<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Conspiracy Library</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html" class="tocviewselflink" data-pltdoc="x">Conspiracy Library</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Getting_.Started%29" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.The_.Database%29" class="tocviewlink" data-pltdoc="x">The Database</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Messaging_.Objects%29" class="tocviewlink" data-pltdoc="x">Messaging Objects</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Registering_.Objects%29" class="tocviewlink" data-pltdoc="x">Registering Objects</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Special_.Properties%29" class="tocviewlink" data-pltdoc="x">Special Properties</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Special_.Property_.Values%29" class="tocviewlink" data-pltdoc="x">Special Property Values</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Pseudo-.Variables%29" class="tocviewlink" data-pltdoc="x">Pseudo-<wbr></wbr>Variables</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Inheritance%29" class="tocviewlink" data-pltdoc="x">Inheritance</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Templates%29" class="tocviewlink" data-pltdoc="x">Templates</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Object%29" class="tocviewlink" data-pltdoc="x">Object</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Characteristics_.Object%29" class="tocviewlink" data-pltdoc="x">Characteristics Object</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Nothing_.Object%29" class="tocviewlink" data-pltdoc="x">Nothing Object</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="file:///Users/kevinforchione/Library/Mobile%20Documents/com~apple~CloudDocs/Racket/conspiracy/docs/conspiracy-html.html#%28part._.Rule_.Object%29" class="tocviewlink" data-pltdoc="x">Rule Object</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Conspiracy_.Library%29" class="tocsubseclink" data-pltdoc="x">Conspiracy Library</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Getting_.Started%29" class="tocsubseclink" data-pltdoc="x">Getting Started</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Modules%29" class="tocsubseclink" data-pltdoc="x">Object Modules</a></td></tr><tr><td><span class="tocsublinknumber">1.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Main_.Module%29" class="tocsubseclink" data-pltdoc="x">Main Module</a></td></tr><tr><td><span class="tocsublinknumber">1.1.2<tt>&nbsp;</tt></span><a href="#%28part.__object_.Module%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%object</span> Module</a></td></tr><tr><td><span class="tocsublinknumber">1.1.3<tt>&nbsp;</tt></span><a href="#%28part.__app_.Module%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">@app</span> Module</a></td></tr><tr><td><span class="tocsublinknumber">1.1.4<tt>&nbsp;</tt></span><a href="#%28part._.Nothing_.Module%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Nothing</span> Module</a></td></tr><tr><td><span class="tocsublinknumber">1.1.5<tt>&nbsp;</tt></span><a href="#%28part._.Rule_.Module%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Rule</span> Module</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Automatic_.Quoting_of_.Unbound_.Symbols%29" class="tocsubseclink" data-pltdoc="x">Automatic Quoting of Unbound Symbols</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.The_.Database%29" class="tocsubseclink" data-pltdoc="x">The Database</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._object-names%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object-<wbr></wbr>names</span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._objects%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">objects</span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Filtering%29" class="tocsubseclink" data-pltdoc="x">Filtering</a></td></tr><tr><td><span class="tocsublinknumber">2.3.1<tt>&nbsp;</tt></span><a href="#%28part._with-objects%29" class="tocsubseclink" data-pltdoc="x">with-<wbr></wbr>objects</a></td></tr><tr><td><span class="tocsublinknumber">2.3.2<tt>&nbsp;</tt></span><a href="#%28part._without-objects%29" class="tocsubseclink" data-pltdoc="x">without-<wbr></wbr>objects</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Messaging_.Objects%29" class="tocsubseclink" data-pltdoc="x">Messaging Objects</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Retrieval%29" class="tocsubseclink" data-pltdoc="x">Retrieval</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Application%29" class="tocsubseclink" data-pltdoc="x">Application</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Setting%29" class="tocsubseclink" data-pltdoc="x">Setting</a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Debugging%29" class="tocsubseclink" data-pltdoc="x">Debugging</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Registering_.Objects%29" class="tocsubseclink" data-pltdoc="x">Registering Objects</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Definition%29" class="tocsubseclink" data-pltdoc="x">Object Definition</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Anonymous_.Definition%29" class="tocsubseclink" data-pltdoc="x">Anonymous Definition</a></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#%28part.___%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%*</span></a></td></tr><tr><td><span class="tocsublinknumber">4.2.2<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">&#964;</span></a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Replacement%29" class="tocsubseclink" data-pltdoc="x">Object Replacement</a></td></tr><tr><td><span class="tocsublinknumber">4.4<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Modification%29" class="tocsubseclink" data-pltdoc="x">Object Modification</a></td></tr><tr><td><span class="tocsublinknumber">4.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Replacing_.Properties%29" class="tocsubseclink" data-pltdoc="x">Replacing Properties</a></td></tr><tr><td><span class="tocsublinknumber">4.4.2<tt>&nbsp;</tt></span><a href="#%28part._.Removing_.Properties%29" class="tocsubseclink" data-pltdoc="x">Removing Properties</a></td></tr><tr><td><span class="tocsublinknumber">4.5<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Removal%29" class="tocsubseclink" data-pltdoc="x">Object Removal</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Special_.Properties%29" class="tocsubseclink" data-pltdoc="x">Special Properties</a></td></tr><tr><td><span class="tocsublinknumber">5.1<tt>&nbsp;</tt></span><a href="#%28part._.Flags%29" class="tocsubseclink" data-pltdoc="x">Flags</a></td></tr><tr><td><span class="tocsublinknumber">5.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Interrogating_.Flags%29" class="tocsubseclink" data-pltdoc="x">Interrogating Flags</a></td></tr><tr><td><span class="tocsublinknumber">5.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Library_.Flags%29" class="tocsubseclink" data-pltdoc="x">Library Flags</a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.1<tt>&nbsp;</tt></span><a href="#%28part._immutable%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">immutable</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.2<tt>&nbsp;</tt></span><a href="#%28part._no-assert%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">no-<wbr></wbr>assert</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.3<tt>&nbsp;</tt></span><a href="#%28part._prop-not-defined%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">prop-<wbr></wbr>not-<wbr></wbr>defined</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.4<tt>&nbsp;</tt></span><a href="#%28part.__-props%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ε-<wbr></wbr>props</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.5<tt>&nbsp;</tt></span><a href="#%28part.__-props%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ι-<wbr></wbr>props</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.2.6<tt>&nbsp;</tt></span><a href="#%28part.__-props%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">μ-<wbr></wbr>props</span></a></td></tr><tr><td><span class="tocsublinknumber">5.2<tt>&nbsp;</tt></span><a href="#%28part._.Kinds%29" class="tocsubseclink" data-pltdoc="x">Kinds</a></td></tr><tr><td><span class="tocsublinknumber">5.2.1<tt>&nbsp;</tt></span><a href="#%28part._object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object?</span></a></td></tr><tr><td><span class="tocsublinknumber">5.2.2<tt>&nbsp;</tt></span><a href="#%28part._default-kind%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">default-<wbr></wbr>kind</span></a></td></tr><tr><td><span class="tocsublinknumber">5.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Inheritance_.Order%29" class="tocsubseclink" data-pltdoc="x">Inheritance Order</a></td></tr><tr><td><span class="tocsublinknumber">5.3<tt>&nbsp;</tt></span><a href="#%28part._implements%29" class="tocsubseclink" data-pltdoc="x">implements</a></td></tr><tr><td><span class="tocsublinknumber">5.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Implementing_.Interface_.Objects%29" class="tocsubseclink" data-pltdoc="x">Implementing Interface Objects</a></td></tr><tr><td><span class="tocsublinknumber">5.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Implementing__-props_objects%29" class="tocsubseclink" data-pltdoc="x">Implementing ε-<wbr></wbr>props objects</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Special_.Property_.Values%29" class="tocsubseclink" data-pltdoc="x">Special Property Values</a></td></tr><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._.Methods%29" class="tocsubseclink" data-pltdoc="x">Methods</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._.Nested_.Objects%29" class="tocsubseclink" data-pltdoc="x">Nested Objects</a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._.Lambda_.Forms%29" class="tocsubseclink" data-pltdoc="x">Lambda Forms</a></td></tr><tr><td><span class="tocsublinknumber">6.4<tt>&nbsp;</tt></span><a href="#%28part._.Quoted_and_.Quasiquoted_.Values%29" class="tocsubseclink" data-pltdoc="x">Quoted and Quasiquoted Values</a></td></tr><tr><td><span class="tocsublinknumber">6.5<tt>&nbsp;</tt></span><a href="#%28part._______.Values%29" class="tocsubseclink" data-pltdoc="x"><span style="font-style: italic">(...)</span> Values</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Pseudo-.Variables%29" class="tocsubseclink" data-pltdoc="x">Pseudo-<wbr></wbr>Variables</a></td></tr><tr><td><span class="tocsublinknumber">7.1<tt>&nbsp;</tt></span><a href="#%28part._defining-obj%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">defining-<wbr></wbr>obj</span></a></td></tr><tr><td><span class="tocsublinknumber">7.2<tt>&nbsp;</tt></span><a href="#%28part._directly-defined-properties%29" class="tocsubseclink" data-pltdoc="x">directly-<wbr></wbr>defined-<wbr></wbr>properties</a></td></tr><tr><td><span class="tocsublinknumber">7.3<tt>&nbsp;</tt></span><a href="#%28part._invokee%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee</span></a></td></tr><tr><td><span class="tocsublinknumber">7.4<tt>&nbsp;</tt></span><a href="#%28part._invokee-args%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee-<wbr></wbr>args</span></a></td></tr><tr><td><span class="tocsublinknumber">7.5<tt>&nbsp;</tt></span><a href="#%28part._invokee-arity%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee-<wbr></wbr>arity</span></a></td></tr><tr><td><span class="tocsublinknumber">7.6<tt>&nbsp;</tt></span><a href="#%28part._kind-order%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">kind-<wbr></wbr>order</span></a></td></tr><tr><td><span class="tocsublinknumber">7.7<tt>&nbsp;</tt></span><a href="#%28part._self%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">self</span></a></td></tr><tr><td><span class="tocsublinknumber">7.8<tt>&nbsp;</tt></span><a href="#%28part._target-obj%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">target-<wbr></wbr>obj</span></a></td></tr><tr><td><span class="tocsublinknumber">7.9<tt>&nbsp;</tt></span><a href="#%28part._target-prop%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">target-<wbr></wbr>prop</span></a></td></tr><tr><td><span class="tocsublinknumber">7.10<tt>&nbsp;</tt></span><a href="#%28part._this%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">this</span></a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._.Inheritance%29" class="tocsubseclink" data-pltdoc="x">Inheritance</a></td></tr><tr><td><span class="tocsublinknumber">8.1<tt>&nbsp;</tt></span><a href="#%28part._.Resolving_.Inheritance_.Conflicts%29" class="tocsubseclink" data-pltdoc="x">Resolving Inheritance Conflicts</a></td></tr><tr><td><span class="tocsublinknumber">8.2<tt>&nbsp;</tt></span><a href="#%28part._inherited%29" class="tocsubseclink" data-pltdoc="x">inherited</a></td></tr><tr><td><span class="tocsublinknumber">8.3<tt>&nbsp;</tt></span><a href="#%28part._delegated%29" class="tocsubseclink" data-pltdoc="x">delegated</a></td></tr><tr><td><span class="tocsublinknumber">8.4<tt>&nbsp;</tt></span><a href="#%28part._.Differences_between_.Inherited_and_.Delegated%29" class="tocsubseclink" data-pltdoc="x">Differences between Inherited and Delegated</a></td></tr><tr><td><span class="tocsublinknumber">9<tt>&nbsp;</tt></span><a href="#%28part._.Templates%29" class="tocsubseclink" data-pltdoc="x">Templates</a></td></tr><tr><td><span class="tocsublinknumber">9.1<tt>&nbsp;</tt></span><a href="#%28part._template-object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">template-<wbr></wbr>object?</span></a></td></tr><tr><td><span class="tocsublinknumber">9.2<tt>&nbsp;</tt></span><a href="#%28part._template-objreqs%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">template-<wbr></wbr>objreqs</span></a></td></tr><tr><td><span class="tocsublinknumber">9.3<tt>&nbsp;</tt></span><a href="#%28part._show_for_template-objects%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">show</span> for <span style="font-style: italic">template-<wbr></wbr>objects</span></a></td></tr><tr><td><span class="tocsublinknumber">9.4<tt>&nbsp;</tt></span><a href="#%28part.___form%29" class="tocsubseclink" data-pltdoc="x">&#964; form</a></td></tr><tr><td><span class="tocsublinknumber">10<tt>&nbsp;</tt></span><a href="#%28part._.Object%29" class="tocsubseclink" data-pltdoc="x">Object</a></td></tr><tr><td><span class="tocsublinknumber">10.1<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Properties%29" class="tocsubseclink" data-pltdoc="x">Object Properties</a></td></tr><tr><td><span class="tocsublinknumber">10.1.1<tt>&nbsp;</tt></span><a href="#%28part._build-kind-order%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">build-<wbr></wbr>kind-<wbr></wbr>order</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.2<tt>&nbsp;</tt></span><a href="#%28part._characteristics-template_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">characteristics-<wbr></wbr>template?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.3<tt>&nbsp;</tt></span><a href="#%28part._construct%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">construct</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.4<tt>&nbsp;</tt></span><a href="#%28part._create-clone%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">create-<wbr></wbr>clone</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.5<tt>&nbsp;</tt></span><a href="#%28part._create-clone__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">create-<wbr></wbr>clone/<span class="mywbr"> &nbsp;</span>&#949;</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.6<tt>&nbsp;</tt></span><a href="#%28part._create-instance%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">create-<wbr></wbr>instance</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.7<tt>&nbsp;</tt></span><a href="#%28part._create-instance-of%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">create-<wbr></wbr>instance-<wbr></wbr>of</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.8<tt>&nbsp;</tt></span><a href="#%28part._directly-inherits-kind%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">directly-<wbr></wbr>inherits-<wbr></wbr>kind</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.9<tt>&nbsp;</tt></span><a href="#%28part._directly-inherits-kind_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">directly-<wbr></wbr>inherits-<wbr></wbr>kind?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.10<tt>&nbsp;</tt></span><a href="#%28part._flags%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">flags</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.11<tt>&nbsp;</tt></span><a href="#%28part._flags_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">flags!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.12<tt>&nbsp;</tt></span><a href="#%28part._flags_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">flags?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.13<tt>&nbsp;</tt></span><a href="#%28part._get-kind-order%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>kind-<wbr></wbr>order</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.14<tt>&nbsp;</tt></span><a href="#%28part._get-kinds-list%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>kinds-<wbr></wbr>list</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.15<tt>&nbsp;</tt></span><a href="#%28part._get-method%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>method</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.16<tt>&nbsp;</tt></span><a href="#%28part._get-objreqs%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>objreqs</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.17<tt>&nbsp;</tt></span><a href="#%28part._get-prop-list%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>prop-<wbr></wbr>list</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.18<tt>&nbsp;</tt></span><a href="#%28part._get-prop-params%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">get-<wbr></wbr>prop-<wbr></wbr>params</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.19<tt>&nbsp;</tt></span><a href="#%28part._inherits-kind%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">inherits-<wbr></wbr>kind</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.20<tt>&nbsp;</tt></span><a href="#%28part._inherits-kind_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">inherits-<wbr></wbr>kind?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.21<tt>&nbsp;</tt></span><a href="#%28part._kinds%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">kinds</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.22<tt>&nbsp;</tt></span><a href="#%28part._modifies%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">modifies</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.23<tt>&nbsp;</tt></span><a href="#%28part._next-non-modobj%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">next-<wbr></wbr>non-<wbr></wbr>modobj</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.24<tt>&nbsp;</tt></span><a href="#%28part._of-kind_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">of-<wbr></wbr>kind?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.25<tt>&nbsp;</tt></span><a href="#%28part._prop-defined%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">prop-<wbr></wbr>defined</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.26<tt>&nbsp;</tt></span><a href="#%28part._prop-inherited%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">prop-<wbr></wbr>inherited</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.27<tt>&nbsp;</tt></span><a href="#%28part._prop-type%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">prop-<wbr></wbr>type</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.28<tt>&nbsp;</tt></span><a href="#%28part._set-kinds-list_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">set-<wbr></wbr>kinds-<wbr></wbr>list!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.29<tt>&nbsp;</tt></span><a href="#%28part._set-method_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">set-<wbr></wbr>method!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.30<tt>&nbsp;</tt></span><a href="#%28part._show%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">show</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.31<tt>&nbsp;</tt></span><a href="#%28part._template-object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">template-<wbr></wbr>object?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.32<tt>&nbsp;</tt></span><a href="#%28part._template-objreqs%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">template-<wbr></wbr>objreqs</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.33<tt>&nbsp;</tt></span><a href="#%28part.__-props-assert%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ε-<wbr></wbr>props-<wbr></wbr>assert</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.34<tt>&nbsp;</tt></span><a href="#%28part.__-props-assert%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ι-<wbr></wbr>props-<wbr></wbr>assert</span></a></td></tr><tr><td><span class="tocsublinknumber">10.1.35<tt>&nbsp;</tt></span><a href="#%28part.__-props-assert_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">μ-<wbr></wbr>props-<wbr></wbr>assert!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2<tt>&nbsp;</tt></span><a href="#%28part._.Object_.Functions_and_.Macros%29" class="tocsubseclink" data-pltdoc="x">Object Functions and Macros</a></td></tr><tr><td><span class="tocsublinknumber">10.2.1<tt>&nbsp;</tt></span><a href="#%28part._aux%29" class="tocsubseclink" data-pltdoc="x">aux</a></td></tr><tr><td><span class="tocsublinknumber">10.2.2<tt>&nbsp;</tt></span><a href="#%28part._debug%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">debug</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.3<tt>&nbsp;</tt></span><a href="#%28part._debug_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">debug!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.4<tt>&nbsp;</tt></span><a href="#%28part._default-kind%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">default-<wbr></wbr>kind</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.5<tt>&nbsp;</tt></span><a href="#%28part._default-kind_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">default-<wbr></wbr>kind!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.6<tt>&nbsp;</tt></span><a href="#%28part._defining-obj%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">defining-<wbr></wbr>obj</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.7<tt>&nbsp;</tt></span><a href="#%28part._delegated%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">delegated</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.8<tt>&nbsp;</tt></span><a href="#%28part._directly-defined-properties%29" class="tocsubseclink" data-pltdoc="x">directly-<wbr></wbr>defined-<wbr></wbr>properties</a></td></tr><tr><td><span class="tocsublinknumber">10.2.9<tt>&nbsp;</tt></span><a href="#%28part._immutable-object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">immutable-<wbr></wbr>object?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.10<tt>&nbsp;</tt></span><a href="#%28part._inherited%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">inherited</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.11<tt>&nbsp;</tt></span><a href="#%28part._invokee%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.12<tt>&nbsp;</tt></span><a href="#%28part._invokee-args%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee-<wbr></wbr>args</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.13<tt>&nbsp;</tt></span><a href="#%28part._invokee-arity%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">invokee-<wbr></wbr>arity</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.14<tt>&nbsp;</tt></span><a href="#%28part._kind-order%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">kind-<wbr></wbr>order</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.15<tt>&nbsp;</tt></span><a href="#%28part._mutable-object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">mutable-<wbr></wbr>object?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.16<tt>&nbsp;</tt></span><a href="#%28part._object%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.17<tt>&nbsp;</tt></span><a href="#%28part._objects%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">objects</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.18<tt>&nbsp;</tt></span><a href="#%28part._objects-copy%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">objects-<wbr></wbr>copy</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.19<tt>&nbsp;</tt></span><a href="#%28part._object-names%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object-<wbr></wbr>names</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.20<tt>&nbsp;</tt></span><a href="#%28part._object-_list%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object-<wbr></wbr>&gt;list</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.21<tt>&nbsp;</tt></span><a href="#%28part._object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.22<tt>&nbsp;</tt></span><a href="#%28part._.Object_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Object?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.23<tt>&nbsp;</tt></span><a href="#%28part._objreq%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">objreq</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.24<tt>&nbsp;</tt></span><a href="#%28part._self%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">self</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.25<tt>&nbsp;</tt></span><a href="#%28part._target-obj%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">target-<wbr></wbr>obj</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.26<tt>&nbsp;</tt></span><a href="#%28part._target-prop%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">target-<wbr></wbr>prop</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.27<tt>&nbsp;</tt></span><a href="#%28part._this%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">this</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.28<tt>&nbsp;</tt></span><a href="#%28part._true_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">true?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.29<tt>&nbsp;</tt></span><a href="#%28part._undefined%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">undefined</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.30<tt>&nbsp;</tt></span><a href="#%28part._undefined_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">undefined?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.31<tt>&nbsp;</tt></span><a href="#%28part._without-objects%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">without-<wbr></wbr>objects</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.32<tt>&nbsp;</tt></span><a href="#%28part._with-objects%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">with-<wbr></wbr>objects</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.33<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">!</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.34<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.35<tt>&nbsp;</tt></span><a href="#%28part.___%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%*</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.36<tt>&nbsp;</tt></span><a href="#%28part.___%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%+</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.37<tt>&nbsp;</tt></span><a href="#%28part.__-%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%-</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.38<tt>&nbsp;</tt></span><a href="#%28part.__~3d%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">%=</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.39<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">?</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.40<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">@</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.41<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">&#964;</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.42<tt>&nbsp;</tt></span><a href="#%28part.___top%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">#%top</span></a></td></tr><tr><td><span class="tocsublinknumber">10.2.43<tt>&nbsp;</tt></span><a href="#%28part.__%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">&#964;</span></a></td></tr><tr><td><span class="tocsublinknumber">11<tt>&nbsp;</tt></span><a href="#%28part._.Characteristics_.Object%29" class="tocsubseclink" data-pltdoc="x">Characteristics Object</a></td></tr><tr><td><span class="tocsublinknumber">11.1<tt>&nbsp;</tt></span><a href="#%28part._characteristics-template_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">characteristics-<wbr></wbr>template?</span></a></td></tr><tr><td><span class="tocsublinknumber">11.2<tt>&nbsp;</tt></span><a href="#%28part._.The_.Characteristics_.Relationship%29" class="tocsubseclink" data-pltdoc="x">The Characteristics Relationship</a></td></tr><tr><td><span class="tocsublinknumber">11.3<tt>&nbsp;</tt></span><a href="#%28part._characteristics%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">characteristics</span></a></td></tr><tr><td><span class="tocsublinknumber">11.4<tt>&nbsp;</tt></span><a href="#%28part._show_and_characteristics%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">show</span> and characteristics</a></td></tr><tr><td><span class="tocsublinknumber">12<tt>&nbsp;</tt></span><a href="#%28part._.Nothing_.Object%29" class="tocsubseclink" data-pltdoc="x">Nothing Object</a></td></tr><tr><td><span class="tocsublinknumber">12.1<tt>&nbsp;</tt></span><a href="#%28part._.Containment%29" class="tocsubseclink" data-pltdoc="x">Containment</a></td></tr><tr><td><span class="tocsublinknumber">12.1.1<tt>&nbsp;</tt></span><a href="#%28part._parent%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">parent</span></a></td></tr><tr><td><span class="tocsublinknumber">12.1.2<tt>&nbsp;</tt></span><a href="#%28part._sibling%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">sibling</span></a></td></tr><tr><td><span class="tocsublinknumber">12.1.3<tt>&nbsp;</tt></span><a href="#%28part._child%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">child</span></a></td></tr><tr><td><span class="tocsublinknumber">12.2<tt>&nbsp;</tt></span><a href="#%28part._.Defining_.Objects_.Derived_.From_.Nothing%29" class="tocsubseclink" data-pltdoc="x">Defining Objects Derived From <span class="stt">Nothing</span></a></td></tr><tr><td><span class="tocsublinknumber">12.3<tt>&nbsp;</tt></span><a href="#%28part._.Defining_.The_.Object_.Tree%29" class="tocsubseclink" data-pltdoc="x">Defining The Object Tree</a></td></tr><tr><td><span class="tocsublinknumber">12.4<tt>&nbsp;</tt></span><a href="#%28part._.Nothing_.Properties%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Nothing</span> Properties</a></td></tr><tr><td><span class="tocsublinknumber">12.4.1<tt>&nbsp;</tt></span><a href="#%28part._in_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">in?</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.2<tt>&nbsp;</tt></span><a href="#%28part._is-in_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>in?</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.3<tt>&nbsp;</tt></span><a href="#%28part._move-to%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">move-<wbr></wbr>to</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.4<tt>&nbsp;</tt></span><a href="#%28part._parents%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">parents</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.5<tt>&nbsp;</tt></span><a href="#%28part._siblings%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">siblings</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.6<tt>&nbsp;</tt></span><a href="#%28part._children%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">children</span></a></td></tr><tr><td><span class="tocsublinknumber">12.4.7<tt>&nbsp;</tt></span><a href="#%28part._contents%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">contents</span></a></td></tr><tr><td><span class="tocsublinknumber">12.5<tt>&nbsp;</tt></span><a href="#%28part._.Nothing_.Functions_and_.Macros%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Nothing</span> Functions and Macros</a></td></tr><tr><td><span class="tocsublinknumber">12.5.1<tt>&nbsp;</tt></span><a href="#%28part._object-loop%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object-<wbr></wbr>loop</span></a></td></tr><tr><td><span class="tocsublinknumber">13<tt>&nbsp;</tt></span><a href="#%28part._.Rule_.Object%29" class="tocsubseclink" data-pltdoc="x">Rule Object</a></td></tr><tr><td><span class="tocsublinknumber">13.1<tt>&nbsp;</tt></span><a href="#%28part._.Executing_.Rules%29" class="tocsubseclink" data-pltdoc="x">Executing Rules</a></td></tr><tr><td><span class="tocsublinknumber">13.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Short-circuiting_with_raise%29" class="tocsubseclink" data-pltdoc="x">Short-<wbr></wbr>circuiting with <span class="stt">raise</span></a></td></tr><tr><td><span class="tocsublinknumber">13.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Short-circuiting_with_raise-rule-value%29" class="tocsubseclink" data-pltdoc="x">Short-<wbr></wbr>circuiting with <span class="stt">raise-<wbr></wbr>rule-<wbr></wbr>value</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2<tt>&nbsp;</tt></span><a href="#%28part._.Rule_.Properties%29" class="tocsubseclink" data-pltdoc="x">Rule Properties</a></td></tr><tr><td><span class="tocsublinknumber">13.2.1<tt>&nbsp;</tt></span><a href="#%28part._active_%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">active?</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2.2<tt>&nbsp;</tt></span><a href="#%28part._exec%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">exec</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2.3<tt>&nbsp;</tt></span><a href="#%28part._pred%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">pred</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2.4<tt>&nbsp;</tt></span><a href="#%28part._proc%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">proc</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2.5<tt>&nbsp;</tt></span><a href="#%28part._rulebook%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">rulebook</span></a></td></tr><tr><td><span class="tocsublinknumber">13.2.6<tt>&nbsp;</tt></span><a href="#%28part._value%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">value</span></a></td></tr><tr><td><span class="tocsublinknumber">13.3<tt>&nbsp;</tt></span><a href="#%28part._.Rule_.Functions_and_.Macros%29" class="tocsubseclink" data-pltdoc="x">Rule Functions and Macros</a></td></tr><tr><td><span class="tocsublinknumber">13.3.1<tt>&nbsp;</tt></span><a href="#%28part._raise-rule-value%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">raise-<wbr></wbr>rule-<wbr></wbr>value</span></a></td></tr><tr><td><span class="tocsublinknumber">13.3.2<tt>&nbsp;</tt></span><a href="#%28part._rule-chain%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">rule-<wbr></wbr>chain</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">8.5</span></div><h2><a name="(part._.Conspiracy_.Library)"></a>Conspiracy Library</h2><p>Conspiracy is an object-oriented paradigm. An object is defined as a collection of property ids and value pairs (i.e. properties) associated with a symbol name registered in the objects database.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Getting_.Started)"></a>Getting Started</h3><h4>1.1<tt>&nbsp;</tt><a name="(part._.Object_.Modules)"></a>Object Modules</h4><p>The following documents the modules that can be <span style="font-style: italic">required</span> as part of the <span style="font-style: italic">Object</span> Library</p><h5>1.1.1<tt>&nbsp;</tt><a name="(part._.Main_.Module)"></a>Main Module</h5><p>For the purpose of this documentation it is assumed that the library has been made into a collection. We will be using the registration syntax provided by this module.</p><p>The &rsquo;main&rsquo; module must always be required in using any Conspiracy Object module. It provides the database and various functions as well as <span class="stt">Object</span> itself.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object)</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr></table></p><p>The first thing to notice is that requiring the object module returns <span class="stt">Object</span>. That&rsquo;s the symbol representing the &rsquo;root&rsquo; object in the database.</p><h5>1.1.2<tt>&nbsp;</tt><a name="(part.__object_.Module)"></a><span class="stt">%object</span> Module</h5><p><div class="SIntrapara">This module provides a traditional version of registration syntax.
</div><div class="SIntrapara"><ul><li><p>(<span class="stt">object</span> ...) can be used instead of (<span class="stt">%</span> ...) for object definition.</p></li><li><p>(<span class="stt">replace-object</span> ...) can be used instead of (<span class="stt">%=</span> for object replacement.</p></li><li><p>(<span class="stt">modify-object</span> ...) can be used instead of (<span class="stt">%+</span> ...) for object modification.</p></li><li><p>(<span class="stt">remove-object</span> ...) can be used instead of (<span class="stt">%-</span> ...) for object removal.</p></li></ul></div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object %object))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr></table></p><h5>1.1.3<tt>&nbsp;</tt><a name="(part.__app_.Module)"></a><span class="stt">@app</span> Module</h5><p>This module will map any form beginning with an unbound operator to the <span class="stt">@</span> operation. Any bound operator will be executed normally.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object @"@"app))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr></table></p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (list a b c)</span></p></td></tr><tr><td><p><span class="stt">'(a b c)</span></p></td></tr><tr><td><p><span class="stt">&gt; (of-kind Object Object)</span></p></td></tr><tr><td><p><span class="stt">#&lt;undefined&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; (of-kind? Object Object)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr></table></div></p><h5>1.1.4<tt>&nbsp;</tt><a name="(part._.Nothing_.Module)"></a><span class="stt">Nothing</span> Module</h5><p>This module defines a basic &rsquo;object tree&rsquo; mechanism.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object Nothing))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr><tr><td><p><span class="stt">'&#949;-Nothing</span></p></td></tr><tr><td><p><span class="stt">'Nothing</span></p></td></tr></table></p><h5>1.1.5<tt>&nbsp;</tt><a name="(part._.Rule_.Module)"></a><span class="stt">Rule</span> Module</h5><p>This module defines a basic &rsquo;Rules&rsquo; mechanism.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object Rule))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr><tr><td><p><span class="stt">'Rule</span></p></td></tr></table></p><h4>1.2<tt>&nbsp;</tt><a name="(part._.Automatic_.Quoting_of_.Unbound_.Symbols)"></a>Automatic Quoting of Unbound Symbols</h4><p>Conspiracy doesn&rsquo;t bind the symbols you choose for object or property names. It adopts the position of automatically quoting unbound symbols. While in &rsquo;normal&rsquo; Racket you would receive an error message, in Conspiracy the unbound symbol is bounced back.</p><h3>2<tt>&nbsp;</tt><a name="(part._.The_.Database)"></a>The Database</h3><p>Although its been said that objects can be represented as nothing more than structs with associated functions, Conspiracy takes a somewhat different approach of defining them as keys in a hash table whose values are hash tables of property keys and their values.</p><p>As mentioned in the previous section on the quoting of unbound symbols, object and property names needn&rsquo;t have meaning outside the objects database.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; Object</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr></table></p><p>On the other hand, it&rsquo;s perfectly possible to define an object named &rsquo;pi&rsquo; or &rsquo;&#955;&rsquo; in the objects database with meanings independent of their normal Racket bound values. In those cases, however, it will be important to remember to quote the symbol names to avoid operating on their bound values, rather than on their symbols.</p><p>But the practical upshot of this is that neither objects, nor properties, are first class values. You can&rsquo;t pass an object into a function, because it doesn&rsquo;t live outside of the database.</p><h4>2.1<tt>&nbsp;</tt><a name="(part._object-names)"></a><span class="stt">object-names</span></h4><p>At any point the object names registered in the objects database can be retrieved with the object-names macro like this:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(Object)</span></p></td></tr></table></p><p>Although it&rsquo;s a list of object names, the list is constructed in arbitrary order and doesn&rsquo;t represent a historic perspective of object definition.</p><h4>2.2<tt>&nbsp;</tt><a name="(part._objects)"></a><span class="stt">objects</span></h4><p>The <span class="stt">objects</span> macro provides a &rsquo;raw&rsquo; view of the objects database. By using it, you can glimpse &rsquo;under the hood&rsquo; or &rsquo;behind the curtain&rsquo; at the hash tables that comprise it.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; objects</span></p></td></tr><tr><td><p><span class="stt">'#hasheq((Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">.</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">#hasheq((assert . #&lt;procedure:...nspiracy/object.rkt:270:42&gt;)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(assert! . #&lt;procedure:...nspiracy/object.rkt:270:42&gt;)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">...</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(set-method! . #&lt;procedure:[...nspiracy/object.rkt:270:42&gt;)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(show . #&lt;procedure:...onspiracy/object.rkt:270:42&gt;))))</span></p></td></tr></table></p><p>We&rsquo;ve abbreviated the properties listing for Object. But you can clearly see the key/value pairs of the hash tables involved, both of which use symbols for keys.</p><p>So far we only have <span class="stt">Object</span> registered in the database. But before we move on to defining, we need to discuss messaging in the <span style="font-style: italic">messaging</span> section.</p><h4>2.3<tt>&nbsp;</tt><a name="(part._.Filtering)"></a>Filtering</h4><p>As stated earlier, database object and property symbols are not bound by the library. This means you have to pass the database and its macro and function operators to modules that want to make use of Conspiracy objects.</p><p>Sometimes you might want a subset of the database instead. Conspiracy provides 2 forms that parameterize the database allowing you to filter it at the same time.</p><p><div class="SIntrapara">The following macros parameterize on:
</div><div class="SIntrapara"><ul><li><p>objects</p></li><li><p>default-kind</p></li><li><p>debug</p></li></ul></div></p><p>Parameterizing these values means that within the context of the <span class="stt">with-objects</span> and <span class="stt">without-objects</span> macro bodies those values can be modified, but will be restored to their original values once control returns outside of the macros.</p><h5>2.3.1<tt>&nbsp;</tt><a name="(part._with-objects)"></a>with-objects</h5><p>Filter objects by kinds and their <span style="font-style: italic">inherited</span> objects.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">with-objects</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">(</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...) body ...)</span></p></td></tr></table></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (with-objects () (% A) (% B) object-names)</span></p></td></tr><tr><td><p><span class="stt">'(B A Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B)</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A B))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (with-objects (A) object-names)</span></p></td></tr><tr><td><p><span class="stt">'(A Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (% D (kinds C))</span></p></td></tr><tr><td><p><span class="stt">'D</span></p></td></tr><tr><td><p><span class="stt">&gt; (with-objects (C) object-names)</span></p></td></tr><tr><td><p><span class="stt">'(C B A Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(C B D A Object)</span></p></td></tr></table></p><h5>2.3.2<tt>&nbsp;</tt><a name="(part._without-objects)"></a>without-objects</h5><p>Filter-not objects by kinds and their <span style="font-style: italic">modified</span> and <span style="font-style: italic">inheriting</span> objects.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">without-objects</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">(</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...) body ...)</span></p></td></tr></table></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p0 14))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B)</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(B mod#5944484 C A Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (without-objects (A) object-names)</span></p></td></tr><tr><td><p><span class="stt">'(B Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; object-names</span></p></td></tr><tr><td><p><span class="stt">'(B mod#5944484 C A Object)</span></p></td></tr></table></p><h3>3<tt>&nbsp;</tt><a name="(part._.Messaging_.Objects)"></a>Messaging Objects</h3><p>Once an object has been registered in the database it can be interacted with by use of the following property messages:</p><ul><li><p>Retrieval</p></li><li><p>Application</p></li><li><p>Setting</p></li></ul><p>With small variations the syntax of Conspiracy messaging is the same for each message type.</p><p><div class="SIntrapara">(<span style="font-style: italic">op</span> <span style="font-style: italic">propname</span> <span style="font-style: italic">objname</span> [<span style="font-style: italic">arg</span> ...] [<span class="stt">#:when-undefined</span>] [<span class="stt">#:assert</span>])
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span style="font-style: italic">op</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c ? @"@" !)</span></p></td></tr><tr><td><p><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="stt">#:when-undefined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="stt">#:assert</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: contract?</span></p></td></tr></table></div></p><p><div class="SIntrapara">A Conspiracy method can return any number of values:
</div><div class="SIntrapara"><ul><li><p>Zero    : (values)</p></li><li><p>Single  : (values any/c)</p></li><li><p>Multiple: (values any/c any/c ...)</p></li></ul></div></p><h4>3.1<tt>&nbsp;</tt><a name="(part._.Retrieval)"></a>Retrieval</h4><p>This message retrieves the value of the property for the object.</p><p>This message does not accept arguments, but <span class="stt">#:when-undefined</span> and <span class="stt">#:assert</span> are both valid with the message.</p><p><span class="stt">#:when-undefined</span>: This can be any value that then becomes the result of the message when the message returns <span class="stt">undefined</span>. This can occur if the property was assigned that value, or if the property was not directly-defined or inherited by this object.</p><p><span class="stt">#:assert</span>: This can be any contract that is then applied to the result of the message (after the optional #:when-undefined value was applied) to assert some condition on the result. If the condition is true the result is returned by the message, otherwise the message throws an error.</p><p>Examples:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&gt; (? show Object)</span></p></td></tr><tr><td><p><span class="stt">#&lt;procedure:...onspiracy/object.rkt:270:42&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; (? foo Object)</span></p></td></tr><tr><td><p><span class="stt">#&lt;undefined&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; (? foo Object #:when-undefined 42)</span></p></td></tr><tr><td><p><span class="stt">42</span></p></td></tr><tr><td><p><span class="stt">&gt; (? foo Object #:when-undefined 42 #:assert string?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...onspiracy/object.rkt:774:4: broke its own contract</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">promised: string?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">produced: 42</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">in: string?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contract from: Object.foo</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">blaming: Object.foo</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr></table></p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Application)"></a>Application</h4><p>This message applies the value of the property for the object to the arguments.</p><p>This message only enforces the arity of arguments when the value is a procedure, otherwise it ignores the arguments altogether.</p><p><span class="stt">#:when-undefined</span> is valid with the message. <span class="stt">#:assert</span> is not valid.</p><p>Examples:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ get-kind-order Object)</span></p></td></tr><tr><td><p><span class="stt">'(Object)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ get-prop-params Object show)</span></p></td></tr><tr><td><p><span class="stt">'(3 () () #f)</span></p></td></tr></table></p><h4>3.3<tt>&nbsp;</tt><a name="(part._.Setting)"></a>Setting</h4><p>This message sets the value of the property for a mutable object.</p><p>Examples:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&gt; (! kinds Object '(Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">!: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">expected: mutable-object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">given: 'Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt; symbol? mutable-object? any/c any)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contract from: (function !)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">blaming: &lt;pkgs&gt;/conspiracy/object.rkt</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">at: &lt;pkgs&gt;/conspiracy/object.rkt:784.18</span></p></td></tr><tr><td><p><span class="stt">&gt; (! foo Object #t)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">!: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">expected: mutable-object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">given: 'Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt; symbol? mutable-object? any/c any)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contract from: (function !)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">blaming: &lt;pkgs&gt;/conspiracy/object.rkt</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">at: &lt;pkgs&gt;/conspiracy/object.rkt:784.18</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr></table></p><h4>3.4<tt>&nbsp;</tt><a name="(part._.Debugging)"></a>Debugging</h4><p>By default the debug parameter of the library is set to #f. At times you may want to set debugging on, which will display library variables during messaging.</p><p>To get and set debug, use <span class="stt">debug</span> and <span class="stt">debug!</span>.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span style="font-weight: bold">debug</span></p></td></tr></table></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">debug!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">value</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: boolean?</span></p></td></tr></table></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; debug</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr><tr><td><p><span class="stt">&gt; (debug!)</span></p></td></tr><tr><td><p><span class="stt">&gt; debug</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">&gt; (debug! #t)</span></p></td></tr><tr><td><p><span class="stt">&gt; debug</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">&gt; (debug! #f)</span></p></td></tr><tr><td><p><span class="stt">&gt; debug</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr></table></p><p>With debug on you&rsquo;ll see something like the following (the meanings of which will be explained in later sections.)</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&gt; (% A (p0 42))</span></p></td></tr><tr><td><p><span class="stt">[@: construct A ()]</span></p></td></tr><tr><td><p><span class="stt">[construct:#&lt;undefined&gt; | target=A self=A | args=#&lt;undefined&gt;]</span></p></td></tr><tr><td><p><span class="stt">[construct:#&lt;undefined&gt; | target=A self=A | args=#&lt;undefined&gt;]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	construct</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...nspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	#(struct:arity-at-least 0)</span></p></td></tr><tr><td><p><span class="stt">[construct:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[@: flags? A (no-assert)]</span></p></td></tr><tr><td><p><span class="stt">[flags?:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[flags?:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	flags?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	#(struct:arity-at-least 0)</span></p></td></tr><tr><td><p><span class="stt">[flags?:Object | target=A self=A | args=(no-assert)]</span></p></td></tr><tr><td><p><span class="stt">[@: prop-defined A (flags prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=(no-assert)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=(no-assert)]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	prop-defined</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	(1 2)</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=(flags prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[@: assert! A ()]</span></p></td></tr><tr><td><p><span class="stt">[assert!:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[assert!:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	assert!</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...nspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	0</span></p></td></tr><tr><td><p><span class="stt">[assert!:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[@: ntf-reqs A ()]</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	ntf-reqs</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...nspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	0</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[@: prop-defined A (implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	prop-defined</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	(1 2)</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=(implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[@: prop-defined Object (implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=()]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	prop-defined</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	(1 2)</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=(implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[@: assert A ()]</span></p></td></tr><tr><td><p><span class="stt">[assert:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[assert:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	assert</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...nspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	0</span></p></td></tr><tr><td><p><span class="stt">[assert:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[@: ntf-reqs A ()]</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	ntf-reqs</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...nspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	0</span></p></td></tr><tr><td><p><span class="stt">[ntf-reqs:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[@: prop-defined A (implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	prop-defined</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(A Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	(1 2)</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=A self=A | args=(implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[@: prop-defined Object (implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=()]</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=()]</span></p></td></tr><tr><td><p><span class="stt">[Parameters:]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">self:		Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-prop:	prop-defined</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">target-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">kind-order:	(Object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">defining-obj:	Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee:	#&lt;procedure:...onspiracy/object.rkt:260:42&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">invokee-arity:	(1 2)</span></p></td></tr><tr><td><p><span class="stt">[prop-defined:Object | target=Object self=Object | args=(implements prop-def-directly)]</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (? p0 A)</span></p></td></tr><tr><td><p><span class="stt">[?: p0 A ()]</span></p></td></tr><tr><td><p><span class="stt">[p0:#&lt;undefined&gt; | target=A self=A | args=#&lt;undefined&gt;]</span></p></td></tr><tr><td><p><span class="stt">[p0:#&lt;undefined&gt; | target=A self=A | args=#&lt;undefined&gt;]</span></p></td></tr><tr><td><p><span class="stt">42</span></p></td></tr></table></p><h3>4<tt>&nbsp;</tt><a name="(part._.Registering_.Objects)"></a>Registering Objects</h3><p>Initially the objects database only contains <span class="stt">Object</span>. In this section we briefly go over the ways that the database can be changed through four forms of registration</p><h4>4.1<tt>&nbsp;</tt><a name="(part._.Object_.Definition)"></a>Object Definition</h4><p>Registers an object in the objects database. Returns the object name.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">%</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">objname</span><span class="stt">] </span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: (and/c symbol? (not </span><span class="stt">object?</span><span class="stt">))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (</span><span style="font-weight: bold">flags</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">kinds</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">implements</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">(</span><span class="stt">value ...</span><span style="font-weight: bold">)</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">value)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>When <span style="font-style: italic">objname</span> is not provided the library will generate a name from a gensym prefixed with &rsquo;obj# that is then interned for referencing.</p><p>Properties will be discussed further in separate sections.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (%)</span></p></td></tr><tr><td><p><span class="stt">'obj#2125281</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A (sqr (n) (-&gt; integer? integer?) (sqr n)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ sqr A 25)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">Library/Mobile Documents/com~apple~CloudDocs/Racket/utils/conspiracy/object.rkt:801:5: @: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">expected: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">given: #&lt;procedure:sqr&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ 'sqr A 25)</span></p></td></tr><tr><td><p><span class="stt">625</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sqr #&lt;procedure:...nspiracy/object.rkt:270:42&gt;))</span></p></td></tr></table></p><h4>4.2<tt>&nbsp;</tt><a name="(part._.Anonymous_.Definition)"></a>Anonymous Definition</h4><p>Registers an &rsquo;anonymous&rsquo; object in the objects database. Returns the object name. This is an alternative form of the <span class="stt">%</span> &rsquo;anonymous&rsquo; definition above.</p><h5>4.2.1<tt>&nbsp;</tt><a name="(part.___)"></a><span class="stt">%*</span></h5><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">%*</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">... </span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (</span><span style="font-weight: bold">flags</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">implements</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">(</span><span class="stt">value ...</span><span style="font-weight: bold">)</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">value)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>This syntax is a shorter version of the anonymous variation of <span class="stt">%</span>, but the results are the same. Note that <span class="stt">kinds</span> is not a valid property in this syntax.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 0))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (p1 10))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (%* A B (p2 20))</span></p></td></tr><tr><td><p><span class="stt">'obj#26607112</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#26607112 #:flag +kinds)</span></p></td></tr><tr><td><p><span class="stt">(% obj#26607112</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A B))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 20))</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 0))</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 10))</span></p></td></tr><tr><td><p><span class="stt">&gt; (%*)</span></p></td></tr><tr><td><p><span class="stt">'obj#26628183</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#26628183)</span></p></td></tr><tr><td><p><span class="stt">(% obj#26628183</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (%* B A (p42 42) (kinds A B))</span></p></td></tr><tr><td><p><span class="stt">obj#26671717: kinds property not valid in definition.</span></p></td></tr><tr><td><p><span class="stt">&gt; (%* B A (p42 42))</span></p></td></tr><tr><td><p><span class="stt">'obj#26672992</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#26672992 +kinds)</span></p></td></tr><tr><td><p><span class="stt">(% obj#26672992</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (B A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p42 42))</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 10))</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr></table></div></p><h5>4.2.2<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">&#964;</span></h5><p>Anonymous object syntax especially useful for objects designed to behave as &rsquo;templates&rsquo;.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">&#964;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...] property ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">= </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">= </span><span style="font-style: italic">propname</span><span class="stt">: val [val ...]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Note:</span>
</div><div class="SIntrapara"><ul><li><p>property names are identified by the <span style="font-style: italic">:</span> suffix.</p></li><li><p><span class="stt">kinds</span> is not a valid property in this form.</p></li><li><p>A single value will produce a propname/value pair. Any properties requiring a list will neeed to have the value wrapped in a list function. This applies to special properties <span class="stt">flags</span> and <span class="stt">implements</span> as well.</p></li></ul></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (&#964; A)</span></p></td></tr><tr><td><p><span class="stt">'obj#15994270</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#15994270)</span></p></td></tr><tr><td><p><span class="stt">(% obj#15994270</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (&#964; A p0: foo p1: bar baz p2: x y z)</span></p></td></tr><tr><td><p><span class="stt">'obj#16020613</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#16020613)</span></p></td></tr><tr><td><p><span class="stt">(% obj#16020613</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 foo)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 (bar baz))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 (x y z)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (&#964; A p0: (list foo))</span></p></td></tr><tr><td><p><span class="stt">'obj#16030671</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#16030671)</span></p></td></tr><tr><td><p><span class="stt">(% obj#16030671</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 (foo)))</span></p></td></tr></table></div></p><h4>4.3<tt>&nbsp;</tt><a name="(part._.Object_.Replacement)"></a>Object Replacement</h4><p>Replaces an object in the objects database.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">%=</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (</span><span style="font-weight: bold">flags</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">kinds</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">implements</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">(</span><span class="stt">value ...</span><span style="font-weight: bold">)</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">value)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>Properties will be discussed further in separate sections.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (%= A (p0 42))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr></table></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags immutable))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (! p0 A 10)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">!: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">expected: mutable-object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">given: 'A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt; symbol? mutable-object? any/c any)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contract from: (function !)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">blaming: &lt;pkgs&gt;/conspiracy/object.rkt</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">at: &lt;pkgs&gt;/conspiracy/object.rkt:784.18</span></p></td></tr><tr><td><p><span class="stt">&gt; (%=</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">A (p0 42))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (! p0 A 10)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 10))</span></p></td></tr></table></p><h4>4.4<tt>&nbsp;</tt><a name="(part._.Object_.Modification)"></a>Object Modification</h4><p>Modifies an object in the objects database.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">%+</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (</span><span style="font-weight: bold">flags</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">kinds</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-weight: bold">implements</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|(</span><span style="font-weight: bold">remove</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|(</span><span style="font-weight: bold">replace</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">(</span><span class="stt">value ...</span><span style="font-weight: bold">)</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">value)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ntf</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>Properties will be discussed further in separate sections.</p><p><div class="SIntrapara">Modification is a registration process that is more complicated than replacement. During modification the following steps occur:
</div><div class="SIntrapara"><ul><li><p>The directly-defined properties of the object are registered as a new <span style="font-style: italic">modobject</span> whose object name is a gensym prefixed by &rsquo;mod# and then interned for referencing.</p></li><li><p>The property clauses of <span class="stt">%+</span> become the object&rsquo;s directly-defined property list, with the addition of a <span class="stt">kinds</span> property pointing to the <span style="font-style: italic">modobject</span>.</p></li><li><p>Any <span class="stt">replace</span> property values are removed from the <span style="font-style: italic">modobject</span> and added to the object&rsquo;s directly-defined property list.</p></li><li><p>Any <span class="stt">remove</span> property values are removed from the object and its modifications.</p></li><li><p>The object&rsquo;s <span class="stt">construct</span> property is called.</p></li></ul></div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&gt; (%+ Object (p0 42))</span></p></td></tr><tr><td><p><span class="stt">object-modify: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">expected: mutable-object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">given: 'Object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">in: the 1st argument of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt;*</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(mutable-object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(non-empty-listof</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(cons/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(and/c symbol? (not/c 'kinds))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">any/c)))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(#:construct? boolean?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">symbol?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">contract from: (function object-modify)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">blaming: &lt;pkgs&gt;/conspiracy/object.rkt</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">at: &lt;pkgs&gt;/conspiracy/object.rkt:449.18</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr></table></p><h5>4.4.1<tt>&nbsp;</tt><a name="(part._.Replacing_.Properties)"></a>Replacing Properties</h5><p>When it is desirable to remove a property from an object&rsquo;s modifications, providing a new version in its directly-defined properties we can accomplish this with the <span class="stt">replace</span> property. The syntax of which is:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">replace</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">property</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr></table></p><p>As we&rsquo;ll see later in discussions on inheritance, this will allow a method to pass control along the object&rsquo;s original <span class="stt">kind-order</span>.</p><p>Examples:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 0))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p0 1))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p0 2))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (replace (p0 3)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A #:flag +mods)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2864351))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 3))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2864351</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2864205)))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2864205</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2864132)))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2864132</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr></table></p><h5>4.4.2<tt>&nbsp;</tt><a name="(part._.Removing_.Properties)"></a>Removing Properties</h5><p>In object modification a property can be removed from its modifications using a property with the following syntax:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">remove</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr></table></p><p>Examples:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 0))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p1 1))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p2 2))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (remove p0))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A #:flag +mods)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2907069)))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2907069</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2906919))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 2))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2906919</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (mod#2906855))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 1))</span></p></td></tr><tr><td><p><span class="stt">(% mod#2906855</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr></table></p><h4>4.5<tt>&nbsp;</tt><a name="(part._.Object_.Removal)"></a>Object Removal</h4><p>Removes an object and its derivations and modifications from the objects database. Returns a list of all objects removed.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">%-</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ A (p0 42))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (kinds A) (p0 100))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (%- A)</span></p></td></tr><tr><td><p><span class="stt">'(B A mod#2493110)</span></p></td></tr></table></p><h3>5<tt>&nbsp;</tt><a name="(part._.Special_.Properties)"></a>Special Properties</h3><p>Conspiracy properties are pairs of property name and value, but certain property names are &rsquo;special&rsquo; in that they play a role in registration, inheritance, mutability, undefined property handling, and interfaces.</p><h4>5.1<tt>&nbsp;</tt><a name="(part._.Flags)"></a>Flags</h4><p>The <span class="stt">flags</span> property has special usage within the library, as will be discussed below, and also has an unusual property syntax.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">flags</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><p>The property&rsquo;s value is a list, and it can be defined as above, or in the usual ways that lists are represented:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags x y z))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (flags '(x y z)))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (flags (x y z)))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (% D (flags (list x y z)))</span></p></td></tr><tr><td><p><span class="stt">'D</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show D)</span></p></td></tr><tr><td><p><span class="stt">(% D</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr></table></p><h5>5.1.1<tt>&nbsp;</tt><a name="(part._.Interrogating_.Flags)"></a>Interrogating Flags</h5><p>The flags mechanism in Conspiracy can be thought of as asking a question pertaining to the object. The flag is only relevant if the object directly-defines it. Flag interrogation is not inherited. Flags can be thought of as boolean values: their presence indicating true, their absence false.</p><p>The object message <span class="stt">flags?</span> is used to interrogate the <span class="stt">flags</span> property of an object. This message constrains the values to the directly-defined properties of the object, ignoring whether the object might inherit the flags property from other objects.</p><p><span style="font-weight: bold">syntax</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(|</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">flags?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:al</span><span class="stt">] </span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:all</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: boolean?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></p><p>The <span class="stt">#:all</span> boolean is #t by default. In that case the object must have all of the flags set in order for <span class="stt">flags?</span> to return true. When <span class="stt">#:all</span> is #f any flag match will cause <span class="stt">flags?</span> to return #t.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags immutable x y z))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ flags? A immutable)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ flags? A w x y)</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ flags? A #:all #f w x y)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (kinds A))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ flags? B immutable)</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr></table></div></p><h5>5.1.2<tt>&nbsp;</tt><a name="(part._.Library_.Flags)"></a>Library Flags</h5><p>While any symbol can serve as a flag (even an object name), the library makes use of a handful of symbols for answering questions like:</p><ul><li><p>Is the object immutable?</p></li><li><p>Does the object want to handle undefined properties itself?</p></li><li><p>Does the object want to bypass asserting an interface it implements?</p></li><li><p>Should any object that <span class="stt">implements</span> this object treat it as an &#956;-props rather than an &#953;-props?</p></li></ul><h5>5.1.2.1<tt>&nbsp;</tt><a name="(part._immutable)"></a><span class="stt">immutable</span></h5><p>By default Conspiracy objects are mutable.</p><p>Immutable objects cannot have their property values set with the <span class="stt">!</span> operator.</p><p>Objects are defined immutable by registering them with an <span class="stt">immutable</span> flag. Once this is done their <span style="font-style: italic">directly-defined</span> property values cannot be modified (unless they are of a datatype that is itself mutable and referenced elsewhere.)</p><h5>5.1.2.2<tt>&nbsp;</tt><a name="(part._no-assert)"></a><span class="stt">no-assert</span></h5><p>By default an object that <span class="stt">implements</span> an interface asserts that the requirements of that interface during its construction. But there are times when you may wish to define an object that implements an interface which is only asserted by its derivations. In this manner you can simulate a template or class behavior.</p><p>By giving the object the <span class="stt">no-assert</span> flag you tell the library that it must not enforce any directly-defined or inherited <span class="stt">&#953;-props</span> or <span class="stt">&#956;-props</span> interfaces.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 number?))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A))</span></p></td></tr><tr><td><p><span class="stt">B does not implement A &#953;-props property (? p0 B) -&gt; #&lt;procedure:number?&gt;.</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (flags no-assert)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements A))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="refelem"><span class="refcolumn"><span class="refcontent"><span style="font-style: italic">B</span> is not a template-object, which requires the <span class="stt">immutable</span> flag as well as <span class="stt">no-assert</span>.</span></span></span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (no-assert))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds B) (p0 foo))</span></p></td></tr><tr><td><p><span class="stt">C does not implement A &#953;-props property p0 -&gt;:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Expected: #&lt;procedure:number?&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Actual: foo</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds B)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (B))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr></table></p><h5>5.1.2.3<tt>&nbsp;</tt><a name="(part._prop-not-defined)"></a><span class="stt">prop-not-defined</span></h5><p>The flag value <span class="stt">prop-not-defined</span> tells the library to redirect any application operation to the object&rsquo;s <span class="stt">prop-not-defined</span> method. This method can be directly-defined or inherited by the object, but the redirecting of undefined messages applies only when the object for whom the message is undefined provides the flag.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% B)</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ foo B)</span></p></td></tr><tr><td><p><span class="stt">#&lt;undefined&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; (%+ B (flags prop-not-defined)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(prop-not-defined vals (-&gt;* () #:rest list? any) #f))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ foo B)</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr></table></p><p>In the example above, B does not define or inherit a <span style="font-style: italic">foo</span> property. The library default returns <span class="stt">undefined</span> in that situation. We could use the #:when-undefined keyword on the <span class="stt">@</span> call, but in this case the object has been modified to handle undefined properties itself.</p><h5>5.1.2.4<tt>&nbsp;</tt><a name="(part.__-props)"></a><span class="stt">&#949;-props</span></h5><p>An object can be designated an &rsquo;&#949;-props&rsquo; with the <span class="stt">&#949;-props</span> flag (&#949;-props will be discussed in further detail in the <span class="stt">implements</span> property section.)</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags &#949;-props) (p0 undefined))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A) (p0 42))</span></p></td></tr><tr><td><p><span class="stt">B must not define &#949;-props A property p0</span></p></td></tr></table></div></p><h5>5.1.2.5<tt>&nbsp;</tt><a name="(part.__-props)"></a><span class="stt">&#953;-props</span></h5><p>An object can be designated an &#953;-props interface with the <span class="stt">&#953;-props</span> flag (&#953;-props will be discussed in further detail in the <span class="stt">implements</span> property section.</p><h5>5.1.2.6<tt>&nbsp;</tt><a name="(part.__-props)"></a><span class="stt">&#956;-props</span></h5><p>An object can be designated an &#956;-props interface with the <span class="stt">&#956;-props</span> flag (&#956;-props will be discussed in further detail in the <span class="stt">implements</span> property section.)</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags &#956;-props)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr></table></div></p><h4>5.2<tt>&nbsp;</tt><a name="(part._.Kinds)"></a>Kinds</h4><p>The <span class="stt">kinds</span> property has special usage within the library, as will be discussed below, and also has an unusual property syntax.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">kinds</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><p>The property&rsquo;s value is a list, and it can be defined as above, or in the usual ways that lists are represented:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B)</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A B))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (% D (kinds '(B A)))</span></p></td></tr><tr><td><p><span class="stt">'D</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A B)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show D)</span></p></td></tr><tr><td><p><span class="stt">(% D</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (B A)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% E (kinds (C D)))</span></p></td></tr><tr><td><p><span class="stt">'E</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show E)</span></p></td></tr><tr><td><p><span class="stt">(% E</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (C D)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% F (kinds (list D E)))</span></p></td></tr><tr><td><p><span class="stt">'F</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show F)</span></p></td></tr><tr><td><p><span class="stt">(% F</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (D E)))</span></p></td></tr></table></p><p>In Conspiracy an object represents a &rsquo;kind&rsquo; of thing. The <span class="stt">kinds</span> property is perhaps one of the most important that can be defined for an object as it determines from which existing objects the new one will inherit.</p><h5>5.2.1<tt>&nbsp;</tt><a name="(part._object_)"></a><span class="stt">object?</span></h5><p>The library defines the <span class="stt">object?</span> predicate as any symbol registered as an object name in the objects database.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (kinds B))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">Library/Mobile Documents/com~apple~CloudDocs/Racket/utils/conspiracy/object.rkt:384:11: make-object: contract violation</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">expected: (or/c (cons/c (quote kinds) (non-empty-listof (or/c (quote Object) (and/c (not/c (quote A)) object?)))) (cons/c (and/c symbol? (not/c (quote kinds))) any/c))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">given: '(kinds B)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">in: an element of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">the ps argument of</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt;i</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">((name</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(or/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">#f</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(and/c symbol? (not/c object?))))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(ps</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(name)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(listof</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(or/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(cons/c 'kinds (non-empty-listof ...))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(cons/c (and/c symbol? ...) any/c)))))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(#:construct? (call () boolean?))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(result symbol?))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contract from: (function make-object)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">blaming: &lt;pkgs&gt;/conspiracy/object.rkt</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">at: &lt;pkgs&gt;/conspiracy/object.rkt:397.18</span></p></td></tr></table></div><div class="SIntrapara">Initially the library bootstraps <span class="stt">Object</span> as a valid <span style="font-style: italic">kind</span> as well.</div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (object? A)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">&gt; (object? B)</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr></table></p><h5>5.2.2<tt>&nbsp;</tt><a name="(part._default-kind)"></a><span class="stt">default-kind</span></h5><p>Objects that do not specify a <span class="stt">kinds</span> property in their definition are provided with one that uses the object(s) specified by the default-kind macro. Initially this value is set to &rsquo;Object, but it can be changed using the <span class="stt">default-kind!</span> macro.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; default-kind</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A)</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B)</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (default-kind! A B)</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C)</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (A B)))</span></p></td></tr><tr><td><p><span class="stt">&gt; default-kind</span></p></td></tr><tr><td><p><span class="stt">'(A B)</span></p></td></tr></table></div></p><h5>5.2.3<tt>&nbsp;</tt><a name="(part._.Inheritance_.Order)"></a>Inheritance Order</h5><p>The ordering of <span class="stt">kinds</span>, like the naming of cats, is very important, as we&rsquo;ll learn in the section on inheritance. In the examples above the <span class="stt">kinds</span> property for C shows the order &rsquo;(A B), which would be very different in terms of inheritance from &rsquo;(B A). More on that later.</p><h4>5.3<tt>&nbsp;</tt><a name="(part._implements)"></a>implements</h4><p>The <span class="stt">implements</span> property allows an object to implement an interface: <span class="stt">&#953;-props</span>, <span class="stt">&#956;-props</span> or <span class="stt">&#949;-props</span>.</p><h5>5.3.1<tt>&nbsp;</tt><a name="(part._.Implementing_.Interface_.Objects)"></a>Implementing Interface Objects</h5><p><div class="SIntrapara">The following should be kept in mind:
</div><div class="SIntrapara"><ul><li><p>Interface assertion occurs at object registration. Objects are used to specify the interface. Any changes to an interface object after the object&rsquo;s registration do not affect the implementing object.</p></li><li><p>If an error occurs in the assertion of an interface during object registration, the object definition is rolled back.</p></li><li><p>an object definition can choose not to assert <span class="stt">&#953;-props</span> and <span class="stt">&#956;-props</span> interfaces during its construction using the <span class="stt">no-assert</span> flag.</p></li><li><p>Interfaces are inherited. An object&rsquo;s inheritance of interfaces follows its <span class="stt">kind-order</span></p></li><li><p>An implementation can be removed from an object&rsquo;s inheritance through use of the <span class="stt">~</span> prefixed to the interface object name.</p></li></ul></div></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags &#956;-props)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 14))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A) (flags no-assert))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (no-assert))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds B))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (B))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 14))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% D (kinds C) (implements ~A))</span></p></td></tr><tr><td><p><span class="stt">'D</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show D)</span></p></td></tr><tr><td><p><span class="stt">(% D</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements (~A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (C)))</span></p></td></tr><tr><td><p><span class="stt">&gt; (% E (kinds D))</span></p></td></tr><tr><td><p><span class="stt">'E</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show E)</span></p></td></tr><tr><td><p><span class="stt">(% E</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (D)))</span></p></td></tr></table></p><p>Object&rsquo;s implementing <span class="stt">&#953;-props</span> and <span class="stt">&#956;-props</span> interfaces can choose to not assert the interface at the time of their construction.</p><ul><li><p><span class="stt">&#956;-props-assert!</span> is applied first to provide the object a chance to populate its directly-defined property list with required properties.</p></li><li><p><span class="stt">(&#953;-props-assert</span> is applied after <span class="stt">&#956;-props-assert!</span> to ensure the object provides the required properties.</p></li></ul><h5>5.3.2<tt>&nbsp;</tt><a name="(part._.Implementing__-props_objects)"></a>Implementing &#949;-props objects</h5><p>Sometimes it is desirable that an object <span style="font-style: italic">not</span> define certain properties. This is useful when the object serves as a kind of &rsquo;template&rsquo;, where the <span class="stt">&#949;-props</span> interfaces ensure the object will not define properties at registration that will later be overridden by object construction.</p><p>&rsquo;Existential properties&rsquo; interfaces are asserted after the object is registered, but before its <span class="stt">construct</span> is invoked. If the object directly defines the properties of the <span class="stt">&#949;-props</span> interface, then an error is thrown.</p><p>The <span class="stt">&#949;-props</span> flag can be removed from an implementation chain with the <span class="stt">~</span> prefixed to the <span style="font-style: italic">ntf</span> object name.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (flags &#949;-props) (p0 undefined))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds B) (p0 42))</span></p></td></tr><tr><td><p><span class="stt">C must not define &#949;-props A property p0</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds B) (p0 42) (implements ~A))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr></table></div></p><h3>6<tt>&nbsp;</tt><a name="(part._.Special_.Property_.Values)"></a>Special Property Values</h3><p>In Conspiracy all properties consist of pairs of property name and property value. The previous section discussed the library&rsquo;s unique meanings for the property names: <span class="stt">flags</span>, <span class="stt">implements</span>, and <span class="stt">kinds</span>. But it handles certain values as special-case syntax.</p><h4>6.1<tt>&nbsp;</tt><a name="(part._.Methods)"></a>Methods</h4><p>A method is a procedure, represented by a property, specific to an object, that can be applied to arguments. To do this we use the <span class="stt">@</span> operator. When this is done the &rsquo;arity&rsquo; of the function, the number of parameters it requires must agree with the number of arguments it receives.</p><p>Earlier we discussed how the <span class="stt">?</span> operator could <span style="font-style: italic">assert</span> values on the results of its function. The <span class="stt">@</span> operator lacks that feature because all procedures defined using the object method syntax require function contracts.</p><p>This requirement of the method syntax is easy to forget, but its usefulness is that it ensures the method has maximum control over the data it receives and the data it produces.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>In other words, the property is defined just as though it were a Racket function being defined with the define/contract form.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (double (n) (-&gt; number? number?) (* 2 n)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ double A 13)</span></p></td></tr><tr><td><p><span class="stt">26</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (add vs (-&gt;* () #:rest (listof number?) number?) (apply + vs)))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ add B 1 2 3)</span></p></td></tr><tr><td><p><span class="stt">6</span></p></td></tr></table></div></p><h4>6.2<tt>&nbsp;</tt><a name="(part._.Nested_.Objects)"></a>Nested Objects</h4><p>A property value can be an &rsquo;anonymous&rsquo; object definition. Recall that an anonymous object is one for which the library provides the object name in the form of a gensym prefixed by <span style="font-style: italic">&rsquo;obj#</span> and then interned for referencing.</p><p>The nested object can define any of the normal object properties, but gets a special <span class="stt">lexical-parent</span> property added in its directly-defined properties that points to the object it is nested in.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% (p0 (% (p0 (%)))))</span></p></td></tr><tr><td><p><span class="stt">'obj#5302530</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302530)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302530</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 obj#5302531))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302531)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302531</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(lexical-parent obj#5302530)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 obj#5302532))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302532)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302532</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(lexical-parent obj#5302531))</span></p></td></tr></table></div></p><h4>6.3<tt>&nbsp;</tt><a name="(part._.Lambda_.Forms)"></a>Lambda Forms</h4><p>The lambda function definition is a valid object property value.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 (&#955; v v)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 #&lt;procedure:...nspiracy/object.rkt:275:32&gt;))</span></p></td></tr><tr><td><p><span class="stt">&gt; ((? p0 A) "Hello, World!")</span></p></td></tr><tr><td><p><span class="stt">'("Hello, World!")</span></p></td></tr></table></p><h4>6.4<tt>&nbsp;</tt><a name="(part._.Quoted_and_.Quasiquoted_.Values)"></a>Quoted and Quasiquoted Values</h4><p>You can quote and quasiquote the property value in the normal Racket way.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 'pi)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 `(x y ,pi)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 pi)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 (x y 3.141592653589793)))</span></p></td></tr></table></p><h4>6.5<tt>&nbsp;</tt><a name="(part._______.Values)"></a><span style="font-style: italic">(...)</span> Values</h4><p><div class="SIntrapara">This value special form behaves as follows:
</div><div class="SIntrapara"><ul><li><p>When empty it represents the empty list.</p></li><li><p>When the first element is not a procedure it produces a list of the values.</p></li><li><p>When the first element is a procedure, it is treated as a procedure call.</p></li></ul></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 (+ 1 2 3))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 ('+ x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 ((&#955; x x) 1 2 3)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 6)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 (+ x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 (1 2 3)))</span></p></td></tr></table></div></p><h3>7<tt>&nbsp;</tt><a name="(part._.Pseudo-.Variables)"></a>Pseudo-Variables</h3><p>We call these &rsquo;pseudo-variables&rsquo; because they are &rsquo;read-only&rsquo; and only meaningful during object messaging within the context of object methods.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 "Hello, World!")</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(get (prop) (-&gt; symbol? any)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(? prop self)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ get A p0)</span></p></td></tr><tr><td><p><span class="stt">42</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ get A p1)</span></p></td></tr><tr><td><p><span class="stt">"Hello, World!"</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ get A p2)</span></p></td></tr><tr><td><p><span class="stt">#&lt;undefined&gt;</span></p></td></tr><tr><td><p><span class="stt">&gt; self</span></p></td></tr><tr><td><p><span class="stt">#&lt;undefined&gt;</span></p></td></tr></table></p><p>In <span style="font-style: italic">get</span> above we use the <span class="stt">self</span> pseudo-variable to retrieve the values of various properties on the object belonging to (or inherited by) the object <span style="font-style: italic">A</span>. Outside of the method, however, this pseudo-variable has an &rsquo;undefined&rsquo; meaning.</p><p>Below is an alphabetical list of the library&rsquo;s pseudo-variables.</p><h4>7.1<tt>&nbsp;</tt><a name="(part._defining-obj)"></a><span class="stt">defining-obj</span></h4><p>Provides access at run-time to the current method definer. This is the object that actually defines the method currently  executing; in most cases, this is the object that defined the current method code in the source code of the program.</p><h4>7.2<tt>&nbsp;</tt><a name="(part._directly-defined-properties)"></a>directly-defined-properties</h4><p>Provides a reference to the object&rsquo;s directly-defined properties. This is an immutable hasheq table of property names and values.</p><h4>7.3<tt>&nbsp;</tt><a name="(part._invokee)"></a><span class="stt">invokee</span></h4><p>Provides a pointer to the currently executing function.</p><h4>7.4<tt>&nbsp;</tt><a name="(part._invokee-args)"></a><span class="stt">invokee-args</span></h4><p>Provides a pointer to the currently executing function arguments.</p><h4>7.5<tt>&nbsp;</tt><a name="(part._invokee-arity)"></a><span class="stt">invokee-arity</span></h4><p>Contains a normalized arity giving information about the number of by-position arguments accepted by <span class="stt">invokee</span>.</p><h4>7.6<tt>&nbsp;</tt><a name="(part._kind-order)"></a><span class="stt">kind-order</span></h4><p>Provides a reference to the collection of objects that form the <span class="stt">target-obj</span> inheritance sequence.</p><h4>7.7<tt>&nbsp;</tt><a name="(part._self)"></a><span class="stt">self</span></h4><p>Provides a reference to the object whose method was originally invoked to reach the current method. Because of inheritance, this is not necessarily the object where the current method is actually defined.</p><h4>7.8<tt>&nbsp;</tt><a name="(part._target-obj)"></a><span class="stt">target-obj</span></h4><p>Provides access at run-time to the original target object of the current method. This is the object that was specified in the method call that reached the current method.</p><p>The target object remains unchanged when you use <span class="stt">inherited</span> to inherit a kind&rsquo;s method, because the method is still executing in the context of the original call to the inheriting method.</p><p>The <span class="stt">target-obj</span> value is the same as <span class="stt">self</span> in normal method calls, but not  in calls initiated with the <span class="stt">delegated</span> keyword. When <span class="stt">delegated</span> is used,  the value of <span class="stt">self</span> stays the same as it was in the delegating method,  and <span class="stt">target-obj</span> gives the target of the delegated call.</p><h4>7.9<tt>&nbsp;</tt><a name="(part._target-prop)"></a><span class="stt">target-prop</span></h4><p>Provides access at run-time to the current target property, which is the property that was invoked to reach the current method. This complements <span class="stt">self</span>,  which gives the object whose property was invoked.</p><h4>7.10<tt>&nbsp;</tt><a name="(part._this)"></a><span class="stt">this</span></h4><p>Equivalent to <span class="stt">defining-obj</span>.</p><h3>8<tt>&nbsp;</tt><a name="(part._.Inheritance)"></a>Inheritance</h3><p>Conspiracy is a multiple inheritance paradigm. Conflict resolution is achieved from a deterministic algorithm that constructs at message application a <span class="stt">kind-order</span> for the object receiving the message. The process begins working from left to right along the <span class="stt">kind-order</span> looking at each <span style="font-style: italic">kind&rsquo;s</span> directly-defined property list until it finds a match or exhausts the list, at which point it returns <span class="stt">undefined</span>.</p><p>So how does this work in practice? Suppose we have 4 objects, defined as follows:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% Z (p 1))</span></p></td></tr><tr><td><p><span class="stt">'Z</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A (kinds Z))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (kinds Z) (p 2))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A B))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr></table></p><p>The question now is whether the message <span style="font-style: italic">p</span> sent to <span style="font-style: italic">C</span> returns 1 or 2?</p><h4>8.1<tt>&nbsp;</tt><a name="(part._.Resolving_.Inheritance_.Conflicts)"></a>Resolving Inheritance Conflicts</h4><p>Conspiracy resolves inheritance by constructing the <span class="stt">kind-order</span> in the following manner:</p><ol><li><p>Start with an empty <span class="stt">kind-order</span></p></li><li><p>Set <span class="stt">kind-order</span> index to 0.</p></li><li><p>Append the object to the end of the <span class="stt">kind-order</span>.</p></li><li><p>Get the object at <span class="stt">kind-order</span> index, if at end, stop</p></li><li><p>For each kind in the object&rsquo;s <span class="stt">kinds</span> list, working left to right, if it isn&rsquo;t in the <span class="stt">kind-order</span>, append it to the <span class="stt">kind-order</span></p></li><li><p>increment the <span class="stt">kind-order</span> index</p></li><li><p>Go to step 4</p></li></ol><p>For our example above the <span class="stt">kind-order</span> is (C A B Z Object) and the returned value is 2.</p><p>Once the system has built the kind-order inheritance begins looking for the desired property in the directly-defined properties of the objects from left to right. When it finds a match it stops &#8212;<wbr></wbr> unless told by the property to do otherwise. Conspiracy provides two ways for a property to do so: through the <span class="stt">inherited</span> and <span class="stt">delegated</span> functions.</p><h4>8.2<tt>&nbsp;</tt><a name="(part._inherited)"></a>inherited</h4><p>Passes control to an inherited object.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">inherited</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:when-undefined</span><span class="stt">] [</span><span class="stt">#:propname</span><span class="stt">] [</span><span class="stt">#:objname</span><span class="stt">] arg ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:when-undefined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></p><p>By default <span class="stt">inherited</span> works its way down the <span class="stt">kind-order</span> beginning with the next object in the list after the one the statement is defined in.</p><p><span class="stt">#:propname</span>: if supplied, it will look for that property name instead.</p><p><span class="stt">#:objname</span>: if supplied, it will begin searching downstream (rightward in the <span class="stt">kind-order</span> from the object which is executing the <span class="stt">inherited</span>, looking from that point.</p><p>Here&rsquo;s an example that works its way down the <span class="stt">kind-order</span>:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% Z</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p () (-&gt; any) (cons this (inherited #:when-undefined '()))))</span></p></td></tr><tr><td><p><span class="stt">'Z</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A (kinds Z)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(p () (-&gt; any) (cons this (inherited #:when-undefined '()))))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (kinds Z)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(p () (-&gt; any) (cons this (inherited #:when-undefined '()))))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A B) (p () (-&gt; any) (cons this (inherited #:when-undefined '()))))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ p C)</span></p></td></tr><tr><td><p><span class="stt">'(C A B Z)</span></p></td></tr></table></p><h4>8.3<tt>&nbsp;</tt><a name="(part._delegated)"></a>delegated</h4><p>Passes control to the delegated object.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">delegated</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:when-undefined</span><span class="stt">| [</span><span class="stt">#:propname</span><span class="stt">] </span><span class="stt">#:objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">arg ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:when-undefined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% Z (p0 () (-&gt; any) this))</span></p></td></tr><tr><td><p><span class="stt">'Z</span></p></td></tr><tr><td><p><span class="stt">&gt; (% A (kinds Z) (p0 () (-&gt; any) (cons this (inherited))))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (kinds Z) (p0 () (-&gt; any) (cons this (inherited))))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (% C (kinds A B) (p0 () (-&gt; any) (cons this (inherited))))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (% D (kinds A B) (p0 () (-&gt; any) (cons this (delegated A))))</span></p></td></tr><tr><td><p><span class="stt">'D</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ p0 C)</span></p></td></tr><tr><td><p><span class="stt">'(C A B . Z)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ p0 D)</span></p></td></tr><tr><td><p><span class="stt">'(D A . Z)</span></p></td></tr></table></p><h4>8.4<tt>&nbsp;</tt><a name="(part._.Differences_between_.Inherited_and_.Delegated)"></a>Differences between Inherited and Delegated</h4><p>A key difference between delegation and inheritance can be observed from the examples above. Although both objects pass control to <span style="font-style: italic">A</span>, which then passes control in both cases to <span class="stt">inherited</span>, the inherited call to <span style="font-style: italic">A</span> continues down the <span class="stt">kind-order</span> of <span style="font-style: italic">C</span>, while the delegated call to <span style="font-style: italic">A</span> continues down the <span class="stt">kind-order</span> of <span style="font-style: italic">A</span>.</p><h3>9<tt>&nbsp;</tt><a name="(part._.Templates)"></a>Templates</h3><p>A template is an object definition that has the following:</p><ul><li><p>Is immutable.</p></li><li><p><span class="stt">implements</span> <span style="font-style: italic">&#953;-props</span> interfaces that require the existence of specified properties</p></li><li><p>Does not satisfy the requirements of an <span style="font-style: italic">&#953;-porops</span> interface.</p></li><li><p><span class="stt">flags</span> no-assert</p></li></ul><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 number?))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (implements A) (flags immutable no-assert))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr></table></div></p><p>Now that we have defined B as a template-object, we can interrogate it.</p><h4>9.1<tt>&nbsp;</tt><a name="(part._template-object_)"></a><span class="stt">template-object?</span></h4><p><span class="stt">Object</span> provides the <span class="stt">template-object?</span> method, which returns true if the object satisfies the above definition of a template object. In our case <span style="font-style: italic">B</span> does, <span style="font-style: italic">A</span> does not:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ template-object? A)</span></p></td></tr><tr><td><p><span class="stt">#f</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ template-object? B)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr></table></p><h4>9.2<tt>&nbsp;</tt><a name="(part._template-objreqs)"></a><span class="stt">template-objreqs</span></h4><p><span class="stt">Object</span> provides this method, which returns the list of all missing object requirements for its &#953;-props interfaces, if the object is a <span style="font-style: italic">template</span>. The list is empty if the object is not a <span style="font-style: italic">template</span>.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ template-objreqs A)</span></p></td></tr><tr><td><p><span class="stt">'()</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ template-objreqs B)</span></p></td></tr><tr><td><p><span class="stt">(list (objreq '&#953;-props 'A 'p0 #&lt;procedure:number?&gt; #t))</span></p></td></tr></table></p><h4>9.3<tt>&nbsp;</tt><a name="(part._show_for_template-objects)"></a><span class="stt">show</span> for <span style="font-style: italic">template-objects</span></h4><p>The <span class="stt">show</span> method provides a convenient way to interrogate template objects.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ show B)</span></p></td></tr><tr><td><p><span class="stt">(% B</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (immutable no-assert))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements (A))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object)))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">&#8226; B template requirements:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 #&lt;procedure:number?&gt;)</span></p></td></tr></table></p><h4>9.4<tt>&nbsp;</tt><a name="(part.___form)"></a>&#964; form</h4><p>As described in the section on <span style="font-style: italic">registration</span>, the <span class="stt">&#964;</span> form is a convenient way to define an &rsquo;anonymous&rsquo; object deriving from a template (Although the syntax can be used for other &rsquo;anonymous&rsquo; object definitions as well.)</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (&#964; B)</span></p></td></tr><tr><td><p><span class="stt">obj#30820730 (B) does not implement A &#953;-props property (? p0 obj#30820730) -&gt; #&lt;procedure:number?&gt;.</span></p></td></tr><tr><td><p><span class="stt">&gt; (&#964; B p0: 42)</span></p></td></tr><tr><td><p><span class="stt">'obj#19611876</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#19611876)</span></p></td></tr><tr><td><p><span class="stt">(% obj#19611876</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (B))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 42))</span></p></td></tr></table></p><h3>10<tt>&nbsp;</tt><a name="(part._.Object)"></a>Object</h3><p>The Object library.</p><ul><li><p>Objects are &rsquo;classless&rsquo;, there is no need to instantiate them. They can, however, be <span style="font-style: italic">flagged</span> as immutable, effectively making them a template for other objects.</p></li><li><p> Objects can inherit from multiple pre-defined objects. The specification of inheritance creates a deterministic <span class="stt">kind-order</span> in which properties are located.</p></li><li><p>Message passing can be controlled through <span class="stt">inherited</span> and <span class="stt">delegated</span> forms that pass control down the inheritance order or delegate to other objects. Inherited or delegated messages can specify a default response when the desired property is undefined.</p></li><li><p>All object properties are &rsquo;public&rsquo;; an object doesn&rsquo;t hide its properties from other objects.</p></li><li><p>Properties are &rsquo;untyped&rsquo;; any datatype can be associated with the property, although type can be enforced if the object <span style="font-style: italic">implements an <span class="stt">&#953;-props</span> interface</span> requesting it to do so. An object may implement a <span class="stt">&#956;-props</span> that supplies a property and value for the object, if it does not already do so.</p></li><li><p>Property values can be retrieved or applied, and unless the object is immutable, they can be set. Retrieval and application can specify what to return when the property is undefined. Additionally, an object can indicate a special <span class="stt">prop-not-defined</span> method to handle situations when the property is not directly-defined or inherited.</p></li><li><p> An object can reference its own properties with the &rsquo;self&rsquo; keyword.</p></li><li><p>Objects can be dynamically <span style="font-style: italic">replaced</span> in the database, effecting the inheritance order and behaviors of other objects.</p></li><li><p>Objects can be dynamically <span style="font-style: italic">modified</span> in the database, with a superseding definition that will inherit properties from the previous definition, or replace or remove them altogether.</p></li><li><p>Objects can be dynamically <span style="font-style: italic">removed</span> from the database, along with their descendants and modifications.</p></li><li><p>The objects database can be parameterized to include only specified objects and their inheritance ancestors, or exclude specified objects and their descendants. </p></li></ul><h4>10.1<tt>&nbsp;</tt><a name="(part._.Object_.Properties)"></a>Object Properties</h4><p>The following is an alphabetical listing of properties directly-defined by <span class="stt">Object</span>.</p><h5>10.1.1<tt>&nbsp;</tt><a name="(part._build-kind-order)"></a><span class="stt">build-kind-order</span></h5><p>The inheritance order is deterministic (i.e., it will always be the same for a given situation), and it depends on the full kind tree of the original target object.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">build-kind-obrder</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">#f</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span class="stt">object?</span><span class="stt">)</span></p></td></tr></table></div></p><h5>10.1.2<tt>&nbsp;</tt><a name="(part._characteristics-template_)"></a><span class="stt">characteristics-template?</span></h5><p>Returns true if the object is a characteristics-template; otherwise it returns false.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">characteristics-template?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>10.1.3<tt>&nbsp;</tt><a name="(part._construct)"></a><span class="stt">construct</span></h5><p>Called during the object registration process to complete any work necessary to build the module definition.</p><h5>10.1.4<tt>&nbsp;</tt><a name="(part._create-clone)"></a><span class="stt">create-clone</span></h5><p>Creates a new object that is an identical copy of this object. The new object will have the same kinds as the original, and the identical set of properties defined in the original. No constructor is called in creating the new object, since the object is explicitly initialized by this method to have the exact property values of the original.</p><p>The clone is a &rsquo;shallow&rsquo; copy of the original, which means that the clone refers to all of the same objects as the original. For example, if a property of the original points to a vector, the corresponding  property of the clone points to the same vector, not a copy of the vector.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">create-clone</span><span class="stt">)</span></p></td></tr></table></div></p><h5>10.1.5<tt>&nbsp;</tt><a name="(part._create-clone__)"></a><span class="stt">create-clone/&#949;</span></h5><p>Like <span class="stt">create-clone</span>, exceept that the object&rsquo;s <span class="stt">construct</span> is executed, any &#949;-props methods from the original object are removed prior to consturction. An <span style="font-style: italic">objname</span> can be provided, but must not already be registered in the database.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">create-clone/&#949;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">objname</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">(and/c symbol? (not/c object?))</span></p></td></tr></table></div></p><h5>10.1.6<tt>&nbsp;</tt><a name="(part._create-instance)"></a><span class="stt">create-instance</span></h5><p>Creates a new instance of the target object. This method&rsquo;s arguments are passed directly to the constructor, if any, of the new object; this method doesn&rsquo;t make any other use of the arguments. The method creates the object, invokes the new object&rsquo;s constructor, then returns the new object.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">create-instance</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></div></p><h5>10.1.7<tt>&nbsp;</tt><a name="(part._create-instance-of)"></a><span class="stt">create-instance-of</span></h5><p>Creates a new instance based on multiple kinds. This is a "static" (kind-level) method, so you can call it directly on kind. With no arguments, this simply creates a basic kind instance; this is equivalent to the create-instance method with no arguments.</p><p>The arguments give the kinds, in "dominance" order. The kinds appear in the argument list in the same order in which they&rsquo;d appear in an object definition: the first argument corresponds to the leftmost kind in an ordinary object definition. Each argument is either a kind or a list. If an argument is a list, the first element of the list must be a kind, and the remainder of the elements are the arguments to pass to that kind&rsquo;s constructor. If an argument is simply a kind (not a list), then the constructor for this kind is not invoked at all.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">create-instance-of</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></div></p><h5>10.1.8<tt>&nbsp;</tt><a name="(part._directly-inherits-kind)"></a><span class="stt">directly-inherits-kind</span></h5><p>Produces a list of objects whose kinds property contains this object, or an empty list if there are none.</p><h5>10.1.9<tt>&nbsp;</tt><a name="(part._directly-inherits-kind_)"></a><span class="stt">directly-inherits-kind?</span></h5><p>Returns true if all the args directly inherit from this object; false otherwise.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">directly-inherits-kind?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>10.1.10<tt>&nbsp;</tt><a name="(part._flags)"></a><span class="stt">flags</span></h5><p>See section on <span class="stt">flags</span>. Object is set as <span class="stt">immutable</span>.</p><h5>10.1.11<tt>&nbsp;</tt><a name="(part._flags_)"></a><span class="stt">flags!</span></h5><p>Toggles the specified flags for this object.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">flags!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><h5>10.1.12<tt>&nbsp;</tt><a name="(part._flags_)"></a><span class="stt">flags?</span></h5><p>Returns #t if the object directly defines a flags property and the flags list contains the flags appropriate to the value of the <span class="stt">#:all</span> keyword parameter.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">flags?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:all</span><span class="stt">] </span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span class="stt">#:all</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: boolean?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><p>When <span class="stt">#:all</span> is #t (the default), then the object must match all the flags indicated. When <span class="stt">#:all</span> is #f, then the method returns #t if any match. Otherwise returns #f.</p><h5>10.1.13<tt>&nbsp;</tt><a name="(part._get-kind-order)"></a><span class="stt">get-kind-order</span></h5><p>Returns the pre-built ordering of kinds created as part of the <span class="stt">objeect-call</span> process.</p><h5>10.1.14<tt>&nbsp;</tt><a name="(part._get-kinds-list)"></a><span class="stt">get-kinds-list</span></h5><p>Returns a list containing the immediate kinds of the object. The list contains only the object&rsquo;s direct kinds, which are the objects that were explicitly listed in the object&rsquo;s <span class="stt">kinds</span> property.</p><h5>10.1.15<tt>&nbsp;</tt><a name="(part._get-method)"></a><span class="stt">get-method</span></h5><p>Gets the procedure for one of the object&rsquo;s methods.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">get-method</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><h5>10.1.16<tt>&nbsp;</tt><a name="(part._get-objreqs)"></a><span class="stt">get-objreqs</span></h5><p><div class="SIntrapara">Returns a list of elements representing the &rsquo;object requirements&rsquo; for the object:
</div><div class="SIntrapara"><ul><li><p>a list of properties required by interfaces, but missing from this object&rsquo;s definition/inheritance.</p></li><li><p>a list of properties required by interfaces The elements of these lists are triples consisting of:</p></li><li><p>propname</p></li><li><p>interface property value</p></li><li><p>interface name</p></li></ul></div></p><h5>10.1.17<tt>&nbsp;</tt><a name="(part._get-prop-list)"></a><span class="stt">get-prop-list</span></h5><p>Returns a list of the properties directly-defined by this object.  Each entry in the list is a property symbol. The returned list contains only properties directly-defined by the object; inherited properties are not included, but may be obtained by explicitly traversing the <span class="stt">kinds</span> list and calling this method on each kind.</p><h5>10.1.18<tt>&nbsp;</tt><a name="(part._get-prop-params)"></a><span class="stt">get-prop-params</span></h5><p>Returns a list of information associated with the parameters and result of the property associated with this object, or #f if the property is undefined.</p><ul><li><p>mask encoding of by-position arguments</p></li><li><p>list of required keyword arguments</p></li><li><p>list of accepted keyword arguments</p></li><li><p>result arity</p></li></ul><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">get-prop-params</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">prop</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">prop</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><h5>10.1.19<tt>&nbsp;</tt><a name="(part._inherits-kind)"></a><span class="stt">inherits-kind</span></h5><p>Produces a list of objects inheriting from this object, or an empty list if there are none.</p><h5>10.1.20<tt>&nbsp;</tt><a name="(part._inherits-kind_)"></a><span class="stt">inherits-kind?</span></h5><p>Returns true if all the args inherit from this object; false otherwise.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">inherits-kind?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>10.1.21<tt>&nbsp;</tt><a name="(part._kinds)"></a><span class="stt">kinds</span></h5><p>See section on <span class="stt">kinds</span>. Object is the only object registered in the database whose <span class="stt">kinds</span> property lists itself.</p><h5>10.1.22<tt>&nbsp;</tt><a name="(part._modifies)"></a><span class="stt">modifies</span></h5><p>Produces a list of objects modified by this object. If the object hasn&rsquo;t been modified the list is empty.</p><h5>10.1.23<tt>&nbsp;</tt><a name="(part._next-non-modobj)"></a><span class="stt">next-non-modobj</span></h5><p>Returns the next non-modified object in the object&rsquo;s kind-order.</p><h5>10.1.24<tt>&nbsp;</tt><a name="(part._of-kind_)"></a><span class="stt">of-kind?</span></h5><p>Determines if the object is an instance of the kind, or an instance inheriting from kind. Returns true if so, #f if not. This method always returns true if kind is Object, since every object ultimately derives from Object.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">of-kind?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>10.1.25<tt>&nbsp;</tt><a name="(part._prop-defined)"></a><span class="stt">prop-defined</span></h5><p>Determines if the object defines or inherits the property propname, according to the flags value. If flags is not specified, a default value of prop-def-any is used.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">prop-defined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">prop-def-any</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">prop-def-directly</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">prop-def-inherits</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">prop-def-get-kind)</span></p></td></tr></table></div></p><p>The valid flags values are:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">Flag</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Function Returns</span></p></td></tr><tr><td><p>prop-def-any</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>#t if the object defines or inherits the property; Otherwise #f</p></td></tr><tr><td><p>prop-def-directly</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>#t only if the object directly-defines the property; if it inherits the property from a kind, the function returns #f.</p></td></tr><tr><td><p>prop-def-inherits</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>#t only if the object inherits the property from a kind; if it defines the property directly, or doesn't define or inherit the property at all, the function returns #f.</p></td></tr><tr><td><p>prop-def-get-kind</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>the kind from which the property is inherited, or this object if the object defines the property directly. If the object doesn't define or inherit the property, the function returns undefined.</p></td></tr></table></p><h5>10.1.26<tt>&nbsp;</tt><a name="(part._prop-inherited)"></a><span class="stt">prop-inherited</span></h5><p>Determines if the object inherits the property prop. target is the "original target object," which is the object on which the method was originally invoked. definer is the "defining object," which is the object defining the method which will b inheriting the kind
 implementation.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">prop-inherited</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">target</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">definer</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">[</span><span style="font-style: italic">flag</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">taget</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">definer</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">prop-def-any</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">prop-def-get-kind)</span></p></td></tr></table></div></p><p>The return value depends on the value of the flags argument:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">Flag</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Function Returns</span></p></td></tr><tr><td><p>prop-def-any</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>#t if the object defines or inherits the property; Otherwise #f</p></td></tr><tr><td><p>prop-def-get-kind</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>the kind from which the property is inherited, or this object if the object defines the property directly. If the object doesn't define or inherit the property, the function returns undefined.</p></td></tr></table></p><p>This method is most useful for determining if the currently active method will invoke an inherited version of the method if it uses the inherited operator; this is done by passing targetprop for the prop parameter, targetobj for the target parameter, and defining-obj for the definer parameter. When a kind is designed as a "mix-in" (which means that the kind is designed to be used with multiple inheritance as one of several base kinds, and adds some isolated functionality that is "mixed" with the functionality of the other base kinds), it sometimes useful to be able to check to see if the method is inherited from any other base kind involved in multiple inheritance. This method allows the caller to determine exactly what inherited will do.</p><h5>10.1.27<tt>&nbsp;</tt><a name="(part._prop-type)"></a><span class="stt">prop-type</span></h5><p>Returns the datatype of the given property of the given object, or undefined if the object does not define or inherit the property. This function does not evaluate the property, but merely determines its type. The return value is one of the symbols returned by examining the <span class="stt">struct-&gt;vector</span> of the value.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">prop-type</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">prop</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">prop</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: symbol?</span></p></td></tr></table></div></p><h5>10.1.28<tt>&nbsp;</tt><a name="(part._set-kinds-list_)"></a><span class="stt">set-kinds-list!</span></h5><p>Sets the <span class="stt">kinds</span> property of the object to the specified list of objects.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">set-kinds-list!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kinds</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kinds</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: (listof </span><span class="stt">object?</span><span class="stt">)</span></p></td></tr></table></div></p><h5>10.1.29<tt>&nbsp;</tt><a name="(part._set-method_)"></a><span class="stt">set-method!</span></h5><p>Assigns the procedure proc as a method of the object, using the property prop.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">set-method!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">proc</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:contract</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">proc</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: procedure?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:contract</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: contract?</span></p></td></tr></table></div></p><p>If a contract is provided then the proc is bound to it.</p><h5>10.1.30<tt>&nbsp;</tt><a name="(part._show)"></a><span class="stt">show</span></h5><p>Displays the defined definition of self object.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">show</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">#:flag</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">#sign</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:precision</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:notation</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:format-exponent</span><span class="stt">])]</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:flag</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">#f</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">+kinds +mods +all 'chs)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:sign</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">#f </span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">'+ '++ 'parens</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(let ([ind (or/c string? (list/c string? string?))])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(list/c ind ind ind)))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:precision</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (or/c exact-nonnegative-integer?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(list/c '= exact-nonnegative-integer?))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">#:notation</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">&rsquo;positional</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">'exponential</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(-&gt; rational? (or/c 'positional 'exponential)))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">format-exponent</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">#f</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">string? (-&gt; exact-integer? string?))</span></p></td></tr></table></div></p><p><span style="font-style: italic">Flag</span> options are:</p><ul><li><p>+kinds - displays the object and its directly-defined kinds.</p></li><li><p>+mods - displays all mods in self kind-order list.</p></li><li><p>+all - displays all kinds in self kind-order list.</p></li><li><p>chs - displays requirements and characteristics.</p></li></ul><p>The <span style="font-style: italic">sign</span>, <span style="font-style: italic">precision</span>, <span style="font-style: italic">notation</span>, and <span style="font-style: italic">format-exponent</span> optional arguments control formating for inexact number property values, based on the <span style="font-style: italic">~r</span> formatting rules.</p><h5>10.1.31<tt>&nbsp;</tt><a name="(part._template-object_)"></a><span class="stt">template-object?</span></h5><p>Returns true if this object is a template-object; false otherwise. See Templates for template-object requirements.</p><h5>10.1.32<tt>&nbsp;</tt><a name="(part._template-objreqs)"></a><span class="stt">template-objreqs</span></h5><p>If the object is a template it returns a list of missing objreqs that must be supplied by any object deriving from this object. If the object is not a template, then an empty list is returned.</p><h5>10.1.33<tt>&nbsp;</tt><a name="(part.__-props-assert)"></a><span class="stt">&#949;-props-assert</span></h5><p>Objects that implement <span class="stt">&#949;-props</span> flagged objects must NOT define the &#949;-props object properties.</p><h5>10.1.34<tt>&nbsp;</tt><a name="(part.__-props-assert)"></a><span class="stt">&#953;-props-assert</span></h5><p>Enforces the interfaces this object <span class="stt">implements</span>. If the object does not implement a property indicated by one of its interfaces an error is thrown. By default this is only enforced when the object is constructed. The <span class="stt">no-assert</span> flag can be used to bypass this object&rsquo;s assertion though it will still affect objects derived from this object.</p><h5>10.1.35<tt>&nbsp;</tt><a name="(part.__-props-assert_)"></a><span class="stt">&#956;-props-assert!</span></h5><p>Enforces the <span class="stt">&#956;-props</span> interfaces this object <span class="stt">implements</span>. Adds the interface properties to this object when it doesn&rsquo;t directly-define or inherit them. The order of interfaces takes precedence.</p><h4>10.2<tt>&nbsp;</tt><a name="(part._.Object_.Functions_and_.Macros)"></a>Object Functions and Macros</h4><p>The following is an alphabetical listing of object functions and macros.</p><h5>10.2.1<tt>&nbsp;</tt><a name="(part._aux)"></a>aux</h5><p>A macro that binds property namess to their values for the directly-defined propertiees of <span class="stt">self</span> during a method call.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">aux</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">var</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">var</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">var</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">= </span><span style="font-style: italic">varname</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| (</span><span style="font-style: italic">varname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">value)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">varname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">symbol?</span></p></td></tr></table></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% Rectangle</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(width 3)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(height 2)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(area () (-&gt; real?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(aux width height)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(+ width height)))</span></p></td></tr><tr><td><p><span class="stt">'Rectangle</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ area Rectangle)</span></p></td></tr><tr><td><p><span class="stt">5</span></p></td></tr></table></div></p><p>It&rsquo;s important to remember that the <span style="font-style: italic">varname</span> is bound to the object&rsquo;s associated directly-defined property value, and to <span class="stt">undefined</span> if it does not exist. If the property is a method the method procedure is returned, not the application of the method.</p><h5>10.2.2<tt>&nbsp;</tt><a name="(part._debug)"></a><span class="stt">debug</span></h5><p>A macro that produces diagnostic displays associated with object messaging.</p><h5>10.2.3<tt>&nbsp;</tt><a name="(part._debug_)"></a><span class="stt">debug!</span></h5><p>A macro for setting the <span class="stt">debug</span> boolean.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">debug!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: boolean?</span></p></td></tr></table></div></p><h5>10.2.4<tt>&nbsp;</tt><a name="(part._default-kind)"></a><span class="stt">default-kind</span></h5><p>A macro for returning the default kind(s) that objects inherit when they are not defined with a <span class="stt">kinds</span> property.</p><h5>10.2.5<tt>&nbsp;</tt><a name="(part._default-kind_)"></a><span class="stt">default-kind!</span></h5><p>A macro for setting the value of <span class="stt">default-kind</span>.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">default-kind!</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">kind</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>10.2.6<tt>&nbsp;</tt><a name="(part._defining-obj)"></a><span class="stt">defining-obj</span></h5><p>A pseudo-variable. Provides access at run-time to the current method definer. This is the object that actually defines the method currently  executing; in most cases, this is the object that defined the current method code in the source code of the program.</p><h5>10.2.7<tt>&nbsp;</tt><a name="(part._delegated)"></a><span class="stt">delegated</span></h5><p>A function for passing control to another object&rsquo;s property and <span class="stt">kind-order</span>.</p><h5>10.2.8<tt>&nbsp;</tt><a name="(part._directly-defined-properties)"></a>directly-defined-properties</h5><p>A pseudo-variable. Provides access at run-time to the <span class="stt">self</span> object&rsquo;s directly-defined properties.</p><h5>10.2.9<tt>&nbsp;</tt><a name="(part._immutable-object_)"></a><span class="stt">immutable-object?</span></h5><p>A function for determining whether an object is immutable. Returns <span class="stt">(and (object? </span><span style="font-style: italic">value</span><span class="stt">) (@ flags? </span><span style="font-style: italic">value</span><span class="stt"> immutable))</span></p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">immutable-object?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">))</span></p></td></tr></table></div></p><p>Immutable objects prohibit property modification through <span class="stt">!</span>.</p><h5>10.2.10<tt>&nbsp;</tt><a name="(part._inherited)"></a><span class="stt">inherited</span></h5><p>A function for passing control down the object&rsquo;s <span class="stt">kind-order</span>.</p><h5>10.2.11<tt>&nbsp;</tt><a name="(part._invokee)"></a><span class="stt">invokee</span></h5><p>A pseudo-variable. Provides a pointer to the currently executing function.</p><h5>10.2.12<tt>&nbsp;</tt><a name="(part._invokee-args)"></a><span class="stt">invokee-args</span></h5><p>A pseudo-variable. Provides a pointer to the currently executing function arguments.</p><h5>10.2.13<tt>&nbsp;</tt><a name="(part._invokee-arity)"></a><span class="stt">invokee-arity</span></h5><p>A pseudo-variable. Contains a normalized arity giving information about the number of by-position arguments accepted by <span class="stt">invokee</span>.</p><h5>10.2.14<tt>&nbsp;</tt><a name="(part._kind-order)"></a><span class="stt">kind-order</span></h5><p>A pseudo-variable. Provides a reference to the collection of objects that form the inheritance sequence.</p><h5>10.2.15<tt>&nbsp;</tt><a name="(part._mutable-object_)"></a><span class="stt">mutable-object?</span></h5><p>A function for determining whether an object is mutable. Returns <span class="stt">(not (immutable-object? </span><span style="font-style: italic">value</span><span class="stt">))</span></p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">mutable-object?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">))</span></p></td></tr></table></div></p><p>Objects are mutable by default.</p><h5>10.2.16<tt>&nbsp;</tt><a name="(part._object)"></a><span class="stt">object</span></h5><p>A macro for defining objects (See section Object Defining).</p><h5>10.2.17<tt>&nbsp;</tt><a name="(part._objects)"></a><span class="stt">objects</span></h5><p>A macro for the objects database.</p><h5>10.2.18<tt>&nbsp;</tt><a name="(part._objects-copy)"></a><span class="stt">objects-copy</span></h5><p><div class="SIntrapara">A function for filtering the objects database. Returns a hash copy of objects filtering on kinds. Results are as follows:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">filter-not?</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">kinds</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">contains</span></p></td></tr><tr><td><p>#f</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>o</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>o and inherited kinds</p></td></tr><tr><td><p>#t</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>o</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>All objects except o, o modifies, and inheriting o</p></td></tr><tr><td><p>#f</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>empty</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Empty database</p></td></tr><tr><td><p>#t</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>empty</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>All objects currently in database</p></td></tr></table></div></p><h5>10.2.19<tt>&nbsp;</tt><a name="(part._object-names)"></a><span class="stt">object-names</span></h5><p>A macro for object names registered in the objects database.</p><h5>10.2.20<tt>&nbsp;</tt><a name="(part._object-_list)"></a><span class="stt">object-&gt;list</span></h5><p>A function that converts an object into a list consisting of the object name followed by property value pairs.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 () (-&gt; any) #t)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 'foo)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 (a b c)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (object-&gt;list A)</span></p></td></tr><tr><td><p><span class="stt">'(A (kinds Object) (p0 . #&lt;procedure:...nspiracy/object.rkt:260:42&gt;) (p1 . foo) (p2 a b c))</span></p></td></tr></table></div></p><h5>10.2.21<tt>&nbsp;</tt><a name="(part._object_)"></a><span class="stt">object?</span></h5><p>A function for determining whether a value is an object. Returns #t if the value is a symbol registered in the objects database; otherwise #f.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">object?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span></p></td></tr></table></div></p><h5>10.2.22<tt>&nbsp;</tt><a name="(part._.Object_)"></a><span class="stt">Object?</span></h5><p>A function used to identify the Object symbol. Returns #t if the value is <span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">Object</span>; otherwise #f.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">Object?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span></p></td></tr></table></div></p><h5>10.2.23<tt>&nbsp;</tt><a name="(part._objreq)"></a><span class="stt">objreq</span></h5><p>A struct identifying &rsquo;object requirements&rsquo;.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">objreq</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">type</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">proc?</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">type</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">proc?</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: boolean?</span></p></td></tr></table></div></p><p>This is a representation of an individual object property requirement. The type determines which interface type should be asserted.</p><h5>10.2.24<tt>&nbsp;</tt><a name="(part._self)"></a><span class="stt">self</span></h5><p>A pseudo-variable. Provides a reference to the object whose method was originally invoked to reach the current method. Because of inheritance, this is not necessarily the object where the current method is actually defined.</p><h5>10.2.25<tt>&nbsp;</tt><a name="(part._target-obj)"></a><span class="stt">target-obj</span></h5><p>A pseudo-variable. Provides access at run-time to the original target object of the current method. This is the object that was specified in the method call that reached the current method.</p><h5>10.2.26<tt>&nbsp;</tt><a name="(part._target-prop)"></a><span class="stt">target-prop</span></h5><p>A pseudo-variable. Provides access at run-time to the current target property, which is the property that was invoked to reach the current method. This complements <span class="stt">self</span>,  which gives the object whose property was invoked.</p><h5>10.2.27<tt>&nbsp;</tt><a name="(part._this)"></a><span class="stt">this</span></h5><p>A pseudo-variable. Equivalent to <span class="stt">defining-obj</span>.</p><h5>10.2.28<tt>&nbsp;</tt><a name="(part._true_)"></a><span class="stt">true?</span></h5><p>A function specific to Conspiracy truth and falsehood. Returns #t when <span style="font-style: italic">value</span> is neither #f or <span class="stt">undefined</span>.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">true?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">)</span></p></td></tr></table></div></p><h5>10.2.29<tt>&nbsp;</tt><a name="(part._undefined)"></a><span class="stt">undefined</span></h5><p>A symbol representing &rsquo;undefined&rsquo; values.</p><h5>10.2.30<tt>&nbsp;</tt><a name="(part._undefined_)"></a><span class="stt">undefined?</span></h5><p>A function for determining whether a value is the <span class="stt">undefined</span> datatype. Returns #t if the value is <span style="font-style: italic">undefined</span>; otherwise #f.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">undefined?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></div></p><h5>10.2.31<tt>&nbsp;</tt><a name="(part._without-objects)"></a><span class="stt">without-objects</span></h5><p>A macro for parameterizing the current-objects, current-default-kind, and current-debug, restoring their values once the context of the macro has terminated.</p><p>Filter objects by kinds and their inherited objects.</p><h5>10.2.32<tt>&nbsp;</tt><a name="(part._with-objects)"></a><span class="stt">with-objects</span></h5><p>A macro for parameterizing the current-objects, current-default-kind, and current-debug, restoring their values once the context of the macro has terminated.</p><p>Filter-not objects by kinds and their modified and inheriting objects.</p><h5>10.2.33<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">!</span></h5><p>A function for setting the property value of an object.</p><h5>10.2.34<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">%</span></h5><p>A macro for registering objects.</p><h5>10.2.35<tt>&nbsp;</tt><a name="(part.___)"></a><span class="stt">%*</span></h5><p>A macro for registering &rsquo;anonymous&rsquo; objects.</p><h5>10.2.36<tt>&nbsp;</tt><a name="(part.___)"></a><span class="stt">%+</span></h5><p>A macro for registering modifed objects in the database.</p><h5>10.2.37<tt>&nbsp;</tt><a name="(part.__-)"></a><span class="stt">%-</span></h5><p>A macro for unregistering objects from the database.</p><h5>10.2.38<tt>&nbsp;</tt><a name="(part.__~3d)"></a><span class="stt">%=</span></h5><p>A macro for registering the replacement of an object in the database.</p><h5>10.2.39<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">?</span></h5><p>A function for retrieving the property value of an object.</p><h5>10.2.40<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">@</span></h5><p>A function for applying the property value of an object to the specified arguments.</p><h5>10.2.41<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">&#964;</span></h5><p>A macro for registering &rsquo;anonymous&rsquo; objects in a &rsquo;template&rsquo; fashioned syntax.</p><h5>10.2.42<tt>&nbsp;</tt><a name="(part.___top)"></a><span class="stt">#%top</span></h5><p>A macro wrapping unbound identifiers in quotes.</p><h5>10.2.43<tt>&nbsp;</tt><a name="(part.__)"></a><span class="stt">&#964;</span></h5><p>A macro for registering &rsquo;anonymous&rsquo; objects in a &rsquo;template&rsquo; fashioned syntax. </p><h3>11<tt>&nbsp;</tt><a name="(part._.Characteristics_.Object)"></a>Characteristics Object</h3><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object Characteristics)</span></p></td></tr></table></p><p>Characteristics are those properties of an object that make it interesting. Conspiracy defines this as a relationship among 3 objects:</p><ul><li><p>An &#953;-props object defining properties required for those characteristics.</p></li><li><p>A &#956;-props object defining the characteristic properties.</p></li><li><p>A characteristics-template object.</p></li></ul><h4>11.1<tt>&nbsp;</tt><a name="(part._characteristics-template_)"></a><span class="stt">characteristics-template?</span></h4><p><div class="SIntrapara">This method returns true when:
</div><div class="SIntrapara"><ul><li><p>The object derives from Characteristics.</p></li><li><p>The object implements a &#956;-props object.</p></li><li><p>The object is a template-object.</p></li></ul></div></p><h4>11.2<tt>&nbsp;</tt><a name="(part._.The_.Characteristics_.Relationship)"></a>The Characteristics Relationship</h4><p>Even when we meet the requirements of Characteristics, there&rsquo;s no guarantee that the &#956;-props properties will be satisfied by the values supplied when deriving from the characteristics-template. They may not reference the characteristics-template&rsquo;s &#953;-proops properties, or they may not be satisfied by them.</p><p>But to give an example of how characteristics are designed to work, imagine a circle template that produces objects calculating diameter, circumference, and area, given the readius of the circle.</p><p>Since <span style="font-style: italic">radius</span> is our required template value, we define an &#953;-props object for it:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt;(% &#953;-Circle (radius real?))</span></p></td></tr><tr><td><p><span class="stt">'&#953;-Circle</span></p></td></tr></table></p><p>No <span class="stt">flags</span> property is needed for defining an &#953;-props object. By convention we prefix the objet name with "&#953;-" though this has no effect on the object definition. In addition we require the <span class="stt">radius</span> to be a <span style="font-style: italic">real</span> number.</p><p>Next we translate the following formulas into &#956;-props properties:</p><p>diameter = 2 * radius
circumference = 2 * pi * radius
area = pi * radius^2</p><p><div class="SIntrapara">into:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt;(% &#956;-Circle (flags immutable &#956;-props)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(diameter () (-&gt; real?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(aux radius)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(* 2 radius))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(circumference () (-&gt; real?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(aux radius)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(* 2 pi radius))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(area () (-&gt; real?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(aux radius)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(* pi radius radius)))</span></p></td></tr><tr><td><p><span class="stt">'&#956;-Circle</span></p></td></tr></table></div></p><p>Notice that these properties take no argumentts, and get the <span class="stt">radius</span> value from <span class="stt">self</span>. We previx the object name with "&#956;-", again by convention. But this object must specify <span class="stt">&#956;-props</span> in the <span class="stt">flags</span> property to distinguish it from <span class="stt">&#953;-props</span> and <span class="stt">&#949;-props</span> implementations.</p><p>Also, we are using the <span class="stt">aux</span> macro to bind <span class="stt">radius</span> to the directly-defined property value of <span class="stt">self</span>. Since these &#956;-props methods will be copied to our <span style="font-style: italic">Characteristics</span> derived object, the <span class="stt">construct</span> call will be to the object being constructed at that point.</p><p>Next we define the <span style="font-style: italic">characteristis-template</span>:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt;(% Circle (flags immutable no-assert)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implements &#953;-Circle &#956;-Circle)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds Characteristics))</span></p></td></tr><tr><td><p><span class="stt">'Circle</span></p></td></tr></table></p><h4>11.3<tt>&nbsp;</tt><a name="(part._characteristics)"></a><span class="stt">characteristics</span></h4><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(@ </span><span style="font-weight: bold">characteristics</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span class="stt">#:prop+val?</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:prop+val?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (or/c </span><span style="font-weight: bold">#f</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">#t)</span></p></td></tr></table></div></p><p><div class="SIntrapara">This method returns:
</div><div class="SIntrapara"><ul><li><p>By default, or when #:prop+val? #f, a list of 2 elements: The first is a list is of the object&rsquo;s missing <span class="stt">&#953;-props</span> propnames. The second is a list of the object&rsquo;s <span class="stt">&#956;-props</span> propnames.</p></li><li><p>When #:prop+val? #t, the sublists consist of the porpname / value pairs for those elements.</p></li></ul></div></p><p>Conspiracy says that a <span style="font-style: italic">characteristics-template</span> has no characteristics. By this it means that the template is merely a recipe for an object that does have characteristics. So the value of a propname/value pair is undefined for <span style="font-style: italic">characteristics-templates</span>.</p><p><span style="font-style: italic">Characteristics-templates</span> produce immutable anonymous objects, creating directly-defined properties corresponding to the &#956;-props properties, for their derivations, excpet that the property values are the result of the property invocation.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (&#964; Circle radius: 10)</span></p></td></tr><tr><td><p><span class="stt">'obj#63998617</span></p></td></tr><tr><td><p><span class="stt">&gt; (&#964; Circle radius: 10)</span></p></td></tr><tr><td><p><span class="stt">'obj#71842977</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ characteristics obj#71842977)</span></p></td></tr><tr><td><p><span class="stt">'((radius) (area circumference diameter))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ characteristics obj#71842977 #:prop+val? #t)</span></p></td></tr><tr><td><p><span class="stt">'(((radius . 10)) ((area . 314.1592653589793) (circumference . 62.83185307179586) (diameter . 20)))</span></p></td></tr></table></p><h4>11.4<tt>&nbsp;</tt><a name="(part._show_and_characteristics)"></a><span class="stt">show</span> and characteristics</h4><p>Objects that have characteristics produce additional <span class="stt">show</span> information.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ show obj#71842977)</span></p></td></tr><tr><td><p><span class="stt">(% obj#71842977</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(area 314.1592653589793)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(circumference 62.83185307179586)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(diameter 20)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(flags (immutable))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Circle))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 10))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; obj#71842977 characteristics requirements:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 10)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; obj#71842977 characteristics:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(area 314.1592653589793)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(circumference 62.83185307179586)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(diameter 20)	(diameter 20)</span></p></td></tr></table></p><p>Objects that are not anonymous and mutable created with the <span style="font-style: italic">characteristics-template</span> are different in that their <span class="stt">&#956;-props</span> properties are not directly-defined with property values that are the result of the property invocation.</p><p>The directly-defined <span class="stt">&#953;-props</span> properties of the mutable Characteristics object derivation can be changed, with a corresponding change in the reporting of characteristics.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% C (kinds Circle) (radius 20))</span></p></td></tr><tr><td><p><span class="stt">'C</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Circle))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 20))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; C characteristics requirements:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 20)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; C characteristics:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(area 1256.6370614359173)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(circumference 125.66370614359172)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(diameter 40)</span></p></td></tr><tr><td><p><span class="stt">&gt; (! radius C 10)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show C)</span></p></td></tr><tr><td><p><span class="stt">(% C</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Circle))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 10))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; C characteristics requirements:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(radius 10)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">&#8226; C characteristics:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(area 314.1592653589793)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(circumference 62.83185307179586)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(diameter 20)</span></p></td></tr></table></p><h3>12<tt>&nbsp;</tt><a name="(part._.Nothing_.Object)"></a>Nothing Object</h3><p>The Nothing submodule of Conspiracy object implements a parent, sibling, child relationship.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object Nothing))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr><tr><td><p><span class="stt">'&#949;-Nothing</span></p></td></tr><tr><td><p><span class="stt">'Nothing</span></p></td></tr></table></p><h4>12.1<tt>&nbsp;</tt><a name="(part._.Containment)"></a>Containment</h4><p>This module specializes in a mechanism for representing an &rsquo;object tree&rsquo;. The relationship among objects in the tree is independent of their relationships through inheritance or delegation. To help illustrate what we mean by an object tree we&rsquo;ll make use of the following classic diagram:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">meadow</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">mailbox - player - torch</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">note</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">battery</span></p></td></tr></table></p><p>In the <span style="font-style: italic">meadow</span> there is a <span style="font-style: italic">mailbox</span>, a <span style="font-style: italic">player</span>, and a <span style="font-style: italic">torch</span>. Inside the <span style="font-style: italic">mailbox</span> is a <span style="font-style: italic">note</span>. Inside the <span style="font-style: italic">torch</span> is a <span style="font-style: italic">battery</span>.</p><p>One way to model these relationships would be with a set of pointers: <span style="font-style: italic">location</span> and <span style="font-style: italic">contents</span>. The <span style="font-style: italic">location</span> would point to a single object. The <span style="font-style: italic">contents</span> would be a list of objects.</p><p>The <span class="stt">Nothing</span> Library implements a different model using <span class="stt">parent</span>, <span class="stt">sibling</span>, <span class="stt">child</span> relationships that place the object within the object tree.</p><h5>12.1.1<tt>&nbsp;</tt><a name="(part._parent)"></a><span class="stt">parent</span></h5><p>In the above diagram we would say that <span style="font-style: italic">meadow</span> is the parent of <span style="font-style: italic">mailbox</span>, <span style="font-style: italic">player</span>, and <span style="font-style: italic">torch</span>. The <span style="font-style: italic">mailbox</span> is the <span class="stt">parent</span> of the <span style="font-style: italic">note</span>. The <span style="font-style: italic">torch</span> is the <span class="stt">parent</span> of the <span style="font-style: italic">battery</span>. Incidentally, the <span style="font-style: italic">meadow</span> has a <span class="stt">parent</span>, which is the <span class="stt">Nothing</span> object itself.</p><h5>12.1.2<tt>&nbsp;</tt><a name="(part._sibling)"></a><span class="stt">sibling</span></h5><p>The <span class="stt">sibling</span> of the <span style="font-style: italic">mailbox</span> is the <span style="font-style: italic">player</span>, but the relationship isn&rsquo;t reciprocal, it flows from left to right. The <span class="stt">sibling</span> of the <span style="font-style: italic">player</span> is the <span style="font-style: italic">torch</span>. Finally, the <span style="font-style: italic">torch</span> has no <span class="stt">sibling</span>, or as the model would say, the <span class="stt">sibling</span> of <span style="font-style: italic">torch</span> is <span class="stt">Nothing</span>.</p><h5>12.1.3<tt>&nbsp;</tt><a name="(part._child)"></a><span class="stt">child</span></h5><p>While the objects in the <span style="font-style: italic">meadow</span> can be spoken of as <span class="stt">children</span> of the meadow, there is only one <span class="stt">child</span> of <span style="font-style: italic">meadow</span>, the <span style="font-style: italic">mailbox</span>.</p><h4>12.2<tt>&nbsp;</tt><a name="(part._.Defining_.Objects_.Derived_.From_.Nothing)"></a>Defining Objects Derived From <span class="stt">Nothing</span></h4><p>Object&rsquo;s derived from <span class="stt">Nothing</span> have a special <span class="stt">construct</span> property. This checks the object&rsquo;s directly-defined properties for <span class="stt">parent</span>, <span class="stt">sibling</span>, and <span class="stt">child</span>  and adds any that are missing, assigning them the value of <span class="stt">Nothing</span>. It then moves the object into the object tree.</p><h4>12.3<tt>&nbsp;</tt><a name="(part._.Defining_.The_.Object_.Tree)"></a>Defining The Object Tree</h4><p>An object derived from <span class="stt">Nothing</span> <span class="stt">implements</span> <span class="stt">&#949;-Nothing</span>, which has &rsquo;existential exclusion properties&rsquo; <span class="stt">sibling</span> and <span class="stt">child</span>. This means that these objects cannot have those properties in their definition (the library will supply them).</p><p>The following describes how to define an object tree:</p><ul><li><p>Define each object with the appropriate <span class="stt">parent</span> property.</p></li><li><p>Do not define <span class="stt">sibling</span> or <span class="stt">child</span> properties for the objects.</p></li><li><p>Define sibling objects in right to left order.</p></li></ul><p>Going back to our <span style="font-style: italic">meadow</span> object tree:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% meadow)</span></p></td></tr><tr><td><p><span class="stt">'meadow</span></p></td></tr><tr><td><p><span class="stt">&gt; (% torch</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'torch</span></p></td></tr><tr><td><p><span class="stt">&gt; (% battery (parent torch))</span></p></td></tr><tr><td><p><span class="stt">'battery</span></p></td></tr><tr><td><p><span class="stt">&gt; (% player (parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'player</span></p></td></tr><tr><td><p><span class="stt">&gt; (% mailbox (parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'mailbox</span></p></td></tr><tr><td><p><span class="stt">&gt; (% note (parent mailbox))</span></p></td></tr><tr><td><p><span class="stt">'note</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show meadow)</span></p></td></tr><tr><td><p><span class="stt">(% meadow</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child mailbox)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show mailbox)</span></p></td></tr><tr><td><p><span class="stt">(% mailbox</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child note)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling player))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show note)</span></p></td></tr><tr><td><p><span class="stt">(% note</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent mailbox)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show player)</span></p></td></tr><tr><td><p><span class="stt">(% player</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling torch))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show torch)</span></p></td></tr><tr><td><p><span class="stt">(% torch</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child battery)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show battery)</span></p></td></tr><tr><td><p><span class="stt">(% battery</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent torch)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr></table></p><h4>12.4<tt>&nbsp;</tt><a name="(part._.Nothing_.Properties)"></a><span class="stt">Nothing</span> Properties</h4><p>The following documents the properties of <span class="stt">Nothing</span>.</p><h5>12.4.1<tt>&nbsp;</tt><a name="(part._in_)"></a><span class="stt">in?</span></h5><p>Returns #t if <span style="font-style: italic">objname</span> is the <span class="stt">parent</span> of <span class="stt">self</span>.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">in?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt">) -&gt; boolean?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></p><h5>12.4.2<tt>&nbsp;</tt><a name="(part._is-in_)"></a><span class="stt">is-in?</span></h5><p>Determines if <span class="stt">self</span> is in the sub-tree whose parent is <span style="font-style: italic">objname</span>, and if so returns #t; otherwise returns #f.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">is-in?</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt">) -&gt; boolean?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></p><h5>12.4.3<tt>&nbsp;</tt><a name="(part._move-to)"></a><span class="stt">move-to</span></h5><p>Moves <span class="stt">self</span> to <span style="font-style: italic">objname</span> in the object-tree.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">move-to</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt">) -&gt;|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></p><p>In our <span style="font-style: italic">meadow</span> object tree, suppose the player &rsquo;takes&rsquo; the battery from the torch:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ move-to battery player)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show player)</span></p></td></tr><tr><td><p><span class="stt">(% player</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child battery)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling torch))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show torch)</span></p></td></tr><tr><td><p><span class="stt">(% torch</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show battery)</span></p></td></tr><tr><td><p><span class="stt">(% battery</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent player)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr></table></p><p>And now suppose we move the torch to the mailbox.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (@ move-to torch mailbox)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show mailbox)</span></p></td></tr><tr><td><p><span class="stt">(% mailbox</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child torch)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling player))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show note)</span></p></td></tr><tr><td><p><span class="stt">(% note</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent mailbox)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show player)</span></p></td></tr><tr><td><p><span class="stt">(% player</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child battery)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent meadow)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show torch)</span></p></td></tr><tr><td><p><span class="stt">(% torch</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent mailbox)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling note))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show battery)</span></p></td></tr><tr><td><p><span class="stt">(% battery</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(child Nothing)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Nothing))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(parent player)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(sibling Nothing))</span></p></td></tr></table></p><p>The examples above show that the &rsquo;eldest&rsquo; sibling is the last in the chain. The <span class="stt">move-to</span> always places the object as the <span class="stt">child</span> of the new <span class="stt">parent</span> and pushes the previous <span class="stt">child</span> down the chain.</p><h5>12.4.4<tt>&nbsp;</tt><a name="(part._parents)"></a><span class="stt">parents</span></h5><p>Accumulates a list by applying <span style="font-style: italic">fn</span>, if provided, to each successive <span class="stt">parent</span> of <span class="stt">self</span> until <span class="stt">Nothing</span> is reached. If <span style="font-style: italic">fn</span> is #f then <span style="font-style: italic">acc</span> is the list of successive <span style="font-style: italic">parents</span> of the original object.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">parents</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">fn</span><span class="stt">] [</span><span style="font-style: italic">acc</span><span class="stt">]) -&gt; list?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">fn</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: (or/c #f procedure?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">acc</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: list?</span></p></td></tr></table></p><h5>12.4.5<tt>&nbsp;</tt><a name="(part._siblings)"></a><span class="stt">siblings</span></h5><p>Accumulates a list by applying <span style="font-style: italic">fn</span>, if provided, to each successive <span class="stt">sibling</span> of <span class="stt">self</span> until <span class="stt">Nothing</span> is reached. If <span style="font-style: italic">fn</span> is #f then <span style="font-style: italic">acc</span> is the list of successive <span style="font-style: italic">siblings</span> of the original object.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">siblings</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">fn</span><span class="stt">] [</span><span style="font-style: italic">acc</span><span class="stt">]) -&gt; list?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">fn</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: (or/c #f procedure?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">acc</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: list?</span></p></td></tr></table></p><h5>12.4.6<tt>&nbsp;</tt><a name="(part._children)"></a><span class="stt">children</span></h5><p>Accumulates a list by applying <span style="font-style: italic">fn</span>, if provided, to each successive <span class="stt">child</span> of <span class="stt">self</span> until <span class="stt">Nothing</span> is reached. If <span style="font-style: italic">fn</span> is #f then <span style="font-style: italic">acc</span> is the list of successive <span style="font-style: italic">children</span> of the original object.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">children</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">fn</span><span class="stt">] [</span><span style="font-style: italic">acc</span><span class="stt">]) -&gt; list?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">fn</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: (or/c #f procedure?)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">acc</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: list?</span></p></td></tr></table></p><h5>12.4.7<tt>&nbsp;</tt><a name="(part._contents)"></a><span class="stt">contents</span></h5><p>Returns a list of objects that are the <span style="font-style: italic">contents</span> of this object. If the object has no contents, returns an empty list.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">contents</span><span class="stt">) -&gt; list?</span></p></td></tr></table></p><h4>12.5<tt>&nbsp;</tt><a name="(part._.Nothing_.Functions_and_.Macros)"></a><span class="stt">Nothing</span> Functions and Macros</h4><p>The following documents the functions and macros of <span class="stt">Nothing</span>.</p><h5>12.5.1<tt>&nbsp;</tt><a name="(part._object-loop)"></a><span class="stt">object-loop</span></h5><p>Iterates over all objects. When <span style="font-style: italic">pred</span> is supplied the object is considered for selection only when the procedure returns (not/c (or/c #f undefined?)). When <span style="font-style: italic">acc</span> is supplied the body statements are only called once with the list of accumulated objects; otherwise body statements are called once for each object satisfying <span style="font-style: italic">proc</span>.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">object-loop</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">(</span><span style="font-style: italic">var</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">pred</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">acc</span><span class="stt">]] body0 body ...) -&gt; any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">pred</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: procedure?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">acc</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: identifier?</span></p></td></tr></table></p><p>Note: This macro simulates the <span style="font-style: italic">objectloop</span> of Graham Nelson&rsquo;s Inform language.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% meadow)</span></p></td></tr><tr><td><p><span class="stt">'meadow</span></p></td></tr><tr><td><p><span class="stt">&gt; (% torch (parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'torch</span></p></td></tr><tr><td><p><span class="stt">&gt; (% battery (parent torch))</span></p></td></tr><tr><td><p><span class="stt">'battery</span></p></td></tr><tr><td><p><span class="stt">&gt; (% player (parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'player</span></p></td></tr><tr><td><p><span class="stt">&gt; (% mailbox (parent meadow))</span></p></td></tr><tr><td><p><span class="stt">'mailbox</span></p></td></tr><tr><td><p><span class="stt">&gt; (% note (parent mailbox))</span></p></td></tr><tr><td><p><span class="stt">'note</span></p></td></tr><tr><td><p><span class="stt">(object-loop (o) (printf "~%~a" o))</span></p></td></tr><tr><td><p><span class="stt">Object</span></p></td></tr><tr><td><p><span class="stt">battery</span></p></td></tr><tr><td><p><span class="stt">meadow</span></p></td></tr><tr><td><p><span class="stt">torch</span></p></td></tr><tr><td><p><span class="stt">mailbox</span></p></td></tr><tr><td><p><span class="stt">player</span></p></td></tr><tr><td><p><span class="stt">note</span></p></td></tr><tr><td><p><span class="stt">&#949;-Nothing</span></p></td></tr><tr><td><p><span class="stt">Nothing</span></p></td></tr><tr><td><p><span class="stt">(object-loop (o #t acc) acc)</span></p></td></tr><tr><td><p><span class="stt">'(% battery meadow torch mailbox player note &#949;-Nothing Nothing)</span></p></td></tr><tr><td><p><span class="stt">(object-loop (o (@ of-kind? o Nothing) acc) acc)</span></p></td></tr><tr><td><p><span class="stt">'(battery meadow torch mailbox player note Nothing)</span></p></td></tr><tr><td><p><span class="stt">(@ move-to torch player)</span></p></td></tr><tr><td><p><span class="stt">(object-loop (o (@ is-in? o player) acc) acc)</span></p></td></tr><tr><td><p><span class="stt">'(battery torch)</span></p></td></tr></table></div></p><p>Of course, it should be noted that Racket <span style="font-style: italic">for loops</span> can offer more flexible and powerful alternatives.</p><h3>13<tt>&nbsp;</tt><a name="(part._.Rule_.Object)"></a>Rule Object</h3><p>The Rule submodule of Conspiracy object implements a conditional control flow datatype.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (require conspiracy/object</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(submod conspiracy/object Rule))</span></p></td></tr><tr><td><p><span class="stt">'Object</span></p></td></tr><tr><td><p><span class="stt">'Rule</span></p></td></tr></table></p><h4>13.1<tt>&nbsp;</tt><a name="(part._.Executing_.Rules)"></a>Executing Rules</h4><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">@</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-weight: bold">exec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">...] [</span><span class="stt">#:when-undefined</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: object?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:when-undefined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></div></p><p>When a <span style="font-style: italic">rule</span> receives an <span class="stt">exec</span> message the following sequence occurs:</p><ul><li><p>The rule&rsquo;s <span class="stt">pred</span> property is applied with the same <span style="font-style: italic">arg</span>s supplied to <span class="stt">exec</span>.</p></li><li><p>If <span class="stt">pred</span> returns #f, rule processing terminates and #f is returned.</p></li><li><p>The rule&rsquo;s <span class="stt">proc</span> property is applied with the same <span style="font-style: italic">arg</span>s supplied to <span class="stt">exec</span>.</p></li><li><p>The rule&rsquo;s <span class="stt">rulebook</span> property is processed, with each rule of the rulebook repeating the above process.</p></li><li><p>The rule&rsquo;s <span class="stt">value</span> property is updated with the result of its execution.</p></li></ul><p>Rules can be a little hard to wrap your head around. But a simple example involving the nesting of rulebooks should help illustrate their function.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r0 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r1 r2 r3)))</span></p></td></tr><tr><td><p><span class="stt">'r0</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r1 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r1</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r2 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r21 r22 r23)))</span></p></td></tr><tr><td><p><span class="stt">'r2</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r3 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r21 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r21</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r22 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r23 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r23</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ exec r0)</span></p></td></tr><tr><td><p><span class="stt">self=r0</span></p></td></tr><tr><td><p><span class="stt">self=r1</span></p></td></tr><tr><td><p><span class="stt">self=r2</span></p></td></tr><tr><td><p><span class="stt">self=r21</span></p></td></tr><tr><td><p><span class="stt">self=r22</span></p></td></tr><tr><td><p><span class="stt">self=r23</span></p></td></tr><tr><td><p><span class="stt">self=r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r22)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r2)</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r0)</span></p></td></tr></table></div></p><p>In the above example <span style="font-style: italic">r0</span> executes, and then executes the rules in its <span class="stt">rulebook</span>, which in turn execute the rules in their <span style="font-style: italic">rulebooks</span>.  It&rsquo;s a depth-first tree traversal beginning with <span style="font-style: italic">r0</span>.</p><h5>13.1.1<tt>&nbsp;</tt><a name="(part._.Short-circuiting_with_raise)"></a>Short-circuiting with <span class="stt">raise</span></h5><p><div class="SIntrapara"><span style="font-weight: bold">syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span></p></td></tr><tr><td><p><span class="stt">(</span><span style="font-weight: bold">raise</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt">)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (not/c exn?)</span></p></td></tr></table></div></p><p>Strictly speaking, <span class="stt">raise</span> can be used with any value. We&rsquo;re interested in non-exception values because <span style="font-style: italic">Rule</span> will trap those values and perform special processing with them.</p><p>In particular, when you <span class="stt">raise</span> a non-exception when executing a rule that rule traps the value and stores it in its <span class="stt">value</span> property, just as it would the result of normal rule processing.</p><p>But the processing will terminate at that point, with control going back up the <span class="stt">rule-chain</span> to what we might consider the root of the call tree, where it is then returned as a normal result. The consequence is that no further rule processing is performed.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% r0 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r1 r2 r3)))</span></p></td></tr><tr><td><p><span class="stt">'r0</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r1 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r1</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r2 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r21 r22 r23)))</span></p></td></tr><tr><td><p><span class="stt">'r2</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r3 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r21 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r21</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r22 (proc () (-&gt; any) (printf "self=~a~%" self) (raise self)))</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r23 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r23</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ exec r0)</span></p></td></tr><tr><td><p><span class="stt">self=r0</span></p></td></tr><tr><td><p><span class="stt">self=r1</span></p></td></tr><tr><td><p><span class="stt">self=r2</span></p></td></tr><tr><td><p><span class="stt">self=r21</span></p></td></tr><tr><td><p><span class="stt">self=r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r22)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r2)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r0)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr></table></div></p><p>The above examples demonstrates one way to &rsquo;short-circuit&rsquo; rule processing. The next section demonstrates the other.</p><h5>13.1.2<tt>&nbsp;</tt><a name="(part._.Short-circuiting_with_raise-rule-value)"></a>Short-circuiting with <span class="stt">raise-rule-value</span></h5><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">raise-rule-value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">objname</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: (&#955; (v) (member v (cdr rule-chain)))</span></p></td></tr></table></div></p><p>Raises the value to be caught at any point in <span class="stt">(cdr rule-chain)</span>. By default this would be the first of that list, or if <span class="stt">empty</span>, then <span class="stt">(car rule-chain)</span>.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% r0 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r1 r2 r3)))</span></p></td></tr><tr><td><p><span class="stt">'r0</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r1 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r1</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r2 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r21 r22 r23)))</span></p></td></tr><tr><td><p><span class="stt">'r2</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r3 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r21 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r21</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r22 (proc () (-&gt; any) (printf "self=~a~%" self) (raise-rule-value self)))</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r23 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r23</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ exec r0)</span></p></td></tr><tr><td><p><span class="stt">self=r0</span></p></td></tr><tr><td><p><span class="stt">self=r1</span></p></td></tr><tr><td><p><span class="stt">self=r2</span></p></td></tr><tr><td><p><span class="stt">self=r21</span></p></td></tr><tr><td><p><span class="stt">self=r22</span></p></td></tr><tr><td><p><span class="stt">self=r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r22)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r2)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r0)</span></p></td></tr></table></div></p><p>Here <span class="stt">raise-rule-value</span> &rsquo;short-circuits&rsquo; the processing of the <span class="stt">rulebook</span> in which it is referenced. So <span style="font-style: italic">r0</span> <span class="stt">rulebook</span> processing continues normally.</p><p>Another example:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% r0 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r1 r2 r3)))</span></p></td></tr><tr><td><p><span class="stt">'r0</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r1 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r1</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r2 (proc () (-&gt; any) (printf "self=~a~%" self))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(rulebook (r21 r22 r23)))</span></p></td></tr><tr><td><p><span class="stt">'r2</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r3 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r3</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r21 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r21</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r22 (proc () (-&gt; any) (printf "self=~a~%" self) (raise-rule-value self r0)))</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (% r23 (proc () (-&gt; any) (printf "self=~a~%" self)))</span></p></td></tr><tr><td><p><span class="stt">'r23</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ exec r0)</span></p></td></tr><tr><td><p><span class="stt">self=r0</span></p></td></tr><tr><td><p><span class="stt">self=r1</span></p></td></tr><tr><td><p><span class="stt">self=r2</span></p></td></tr><tr><td><p><span class="stt">self=r21</span></p></td></tr><tr><td><p><span class="stt">self=r22</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r22)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r2)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ value r0)</span></p></td></tr><tr><td><p><span class="stt">'r22</span></p></td></tr></table></p><h4>13.2<tt>&nbsp;</tt><a name="(part._.Rule_.Properties)"></a>Rule Properties</h4><p>The following is an alphabetical listing of properties directly-defined by <span class="stt">Rule</span>.</p><h5>13.2.1<tt>&nbsp;</tt><a name="(part._active_)"></a><span class="stt">active?</span></h5><p>Boolean indicator signifying whether the rule is active or inactive.</p><h5>13.2.2<tt>&nbsp;</tt><a name="(part._exec)"></a><span class="stt">exec</span></h5><p>The method used to <span style="font-style: italic">execute</span> a rule. This method invokes <span class="stt">pred</span> first to determine if the rule is prepared to be processed. If it is, then <span class="stt">proc</span> is invoked, followed by the processing of the rules in the rule&rsquo;s <span class="stt">rulebook</span>.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(@ </span><span style="font-weight: bold">exec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">... [</span><span class="stt">#:when-undefined</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: </span><span class="stt">object?</span><span class="stt"></span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">arg</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">#:when-undefined</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: any/c</span></p></td></tr></table></div></p><h5>13.2.3<tt>&nbsp;</tt><a name="(part._pred)"></a><span class="stt">pred</span></h5><p>Method deciding whether to invoke the rule&rsquo;s <span class="stt">proc</span> and <span class="stt">rulebook</span> processing.</p><p><div class="SIntrapara"><span style="font-weight: bold">Sample Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">pred</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">args (-&gt;* () #:rest (listof any/c) any) (? active? self))</span></p></td></tr></table></div></p><h5>13.2.4<tt>&nbsp;</tt><a name="(part._proc)"></a><span class="stt">proc</span></h5><p>Method representing the rule&rsquo;s &rsquo;rule&rsquo;.</p><p><div class="SIntrapara"><span style="font-weight: bold">Sample Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">proc</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">args (-&gt;* () #:rest (listof any/c) any) body0 body ...)</span></p></td></tr></table></div></p><h5>13.2.5<tt>&nbsp;</tt><a name="(part._rulebook)"></a><span class="stt">rulebook</span></h5><p>A list of rules to be <span style="font-style: italic">executed</span> after the rule&rsquo;s <span class="stt">proc</span> property.</p><h5>13.2.6<tt>&nbsp;</tt><a name="(part._value)"></a><span class="stt">value</span></h5><p>The result of <span class="stt">exec</span> processing for the rule.</p><h4>13.3<tt>&nbsp;</tt><a name="(part._.Rule_.Functions_and_.Macros)"></a>Rule Functions and Macros</h4><p>The following is an alphabetical listing of <span class="stt">Rule</span> functions and macros.</p><h5>13.3.1<tt>&nbsp;</tt><a name="(part._raise-rule-value)"></a><span class="stt">raise-rule-value</span></h5><p>Raises the value up the <span class="stt">rule-chain</span>. Will be handled by the optional <span style="font-style: italic">objname</span>, which defaults to <span class="stt">(first (rest rule-chain))</span> or to <span class="stt">(first rule-chain</span> when <span class="stt">(rest rule-chain</span> is empty.</p><p><div class="SIntrapara"><span style="font-weight: bold">Syntax:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-weight: bold">raise-rule-value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[</span><span style="font-style: italic">objname</span><span class="stt">])</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">value</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: any/c</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">objname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><span class="stt">object?</span></p></td></tr></table></div></p><h5>13.3.2<tt>&nbsp;</tt><a name="(part._rule-chain)"></a><span class="stt">rule-chain</span></h5><p>A macro that represents the execution chain of rules from newest to oldest.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>