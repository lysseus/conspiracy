<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6&nbsp;Special Property Values</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Conspiracy Library</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Getting_Started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="The_Database.html" class="tocviewlink" data-pltdoc="x">The Database</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Messaging_Objects.html" class="tocviewlink" data-pltdoc="x">Messaging Objects</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Registering_Objects.html" class="tocviewlink" data-pltdoc="x">Registering Objects</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Special_Properties.html" class="tocviewlink" data-pltdoc="x">Special Properties</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Special_Property_Values.html" class="tocviewselflink" data-pltdoc="x">Special Property Values</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Pseudo-Variables.html" class="tocviewlink" data-pltdoc="x">Pseudo-<wbr></wbr>Variables</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Inheritance.html" class="tocviewlink" data-pltdoc="x">Inheritance</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Templates.html" class="tocviewlink" data-pltdoc="x">Templates</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="Object.html" class="tocviewlink" data-pltdoc="x">Object</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Characteristics_Object.html" class="tocviewlink" data-pltdoc="x">Characteristics Object</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Nothing_Object.html" class="tocviewlink" data-pltdoc="x">Nothing Object</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Rule_Object.html" class="tocviewlink" data-pltdoc="x">Rule Object</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>6&nbsp;</td><td><a href="Special_Property_Values.html" class="tocviewselflink" data-pltdoc="x">Special Property Values</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">6.1&nbsp;</td><td><a href="Special_Property_Values.html#%28part._.Methods%29" class="tocviewlink" data-pltdoc="x">Methods</a></td></tr><tr><td align="right">6.2&nbsp;</td><td><a href="Special_Property_Values.html#%28part._.Nested_.Objects%29" class="tocviewlink" data-pltdoc="x">Nested Objects</a></td></tr><tr><td align="right">6.3&nbsp;</td><td><a href="Special_Property_Values.html#%28part._.Lambda_.Forms%29" class="tocviewlink" data-pltdoc="x">Lambda Forms</a></td></tr><tr><td align="right">6.4&nbsp;</td><td><a href="Special_Property_Values.html#%28part._.Quoted_and_.Quasiquoted_.Values%29" class="tocviewlink" data-pltdoc="x">Quoted and Quasiquoted Values</a></td></tr><tr><td align="right">6.5&nbsp;</td><td><a href="Special_Property_Values.html#%28part._______.Values%29" class="tocviewlink" data-pltdoc="x"><span style="font-style: italic">(...)</span> Values</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._.Methods%29" class="tocsubseclink" data-pltdoc="x">Methods</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._.Nested_.Objects%29" class="tocsubseclink" data-pltdoc="x">Nested Objects</a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._.Lambda_.Forms%29" class="tocsubseclink" data-pltdoc="x">Lambda Forms</a></td></tr><tr><td><span class="tocsublinknumber">6.4<tt>&nbsp;</tt></span><a href="#%28part._.Quoted_and_.Quasiquoted_.Values%29" class="tocsubseclink" data-pltdoc="x">Quoted and Quasiquoted Values</a></td></tr><tr><td><span class="tocsublinknumber">6.5<tt>&nbsp;</tt></span><a href="#%28part._______.Values%29" class="tocsubseclink" data-pltdoc="x"><span style="font-style: italic">(...)</span> Values</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.4</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Special_Properties.html" title="backward to &quot;5 Special Properties&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Conspiracy Library&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Pseudo-Variables.html" title="forward to &quot;7 Pseudo-Variables&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>6<tt>&nbsp;</tt><a name="(part._.Special_.Property_.Values)"></a>Special Property Values</h3><p>In Conspiracy all properties consist of pairs of property name and property value. The previous section discussed the library&rsquo;s unique meanings for the property names: <span class="stt">flags</span>, <span class="stt">implements</span>, and <span class="stt">kinds</span>. But it handles certain values as special-case syntax.</p><h4>6.1<tt>&nbsp;</tt><a name="(part._.Methods)"></a>Methods</h4><p>A method is a procedure, represented by a property, specific to an object, that can be applied to arguments. To do this we use the <span class="stt">@</span> operator. When this is done the &rsquo;arity&rsquo; of the function, the number of parameters it requires must agree with the number of arguments it receives.</p><p>Earlier we discussed how the <span class="stt">?</span> operator could <span style="font-style: italic">assert</span> values on the results of its function. The <span class="stt">@</span> operator lacks that feature because all procedures defined using the object method syntax require function contracts.</p><p>This requirement of the method syntax is easy to forget, but its usefulness is that it ensures the method has maximum control over the data it receives and the data it produces.</p><p><span style="font-weight: bold">Syntax:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(</span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">body0 body ...)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">propname</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: symbol?</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">argspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket &#955; kw-formal</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span style="font-style: italic">ctcspec</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Racket function contract</span></p></td></tr></table></p><p>In other words, the property is defined just as though it were a Racket function being defined with the define/contract form.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (double (n) (-&gt; number? number?) (* 2 n)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ double A 13)</span></p></td></tr><tr><td><p><span class="stt">26</span></p></td></tr><tr><td><p><span class="stt">&gt; (% B (add vs (-&gt;* () #:rest (listof number?) number?) (apply + vs)))</span></p></td></tr><tr><td><p><span class="stt">'B</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ add B 1 2 3)</span></p></td></tr><tr><td><p><span class="stt">6</span></p></td></tr></table></div></p><h4>6.2<tt>&nbsp;</tt><a name="(part._.Nested_.Objects)"></a>Nested Objects</h4><p>A property value can be an &rsquo;anonymous&rsquo; object definition. Recall that an anonymous object is one for which the library provides the object name in the form of a gensym prefixed by <span style="font-style: italic">&rsquo;obj#</span> and then interned for referencing.</p><p>The nested object can define any of the normal object properties, but gets a special <span class="stt">lexical-parent</span> property added in its directly-defined properties that points to the object it is nested in.</p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% (p0 (% (p0 (%)))))</span></p></td></tr><tr><td><p><span class="stt">'obj#5302530</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302530)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302530</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 obj#5302531))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302531)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302531</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(lexical-parent obj#5302530)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 obj#5302532))</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show obj#5302532)</span></p></td></tr><tr><td><p><span class="stt">(% obj#5302532</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(lexical-parent obj#5302531))</span></p></td></tr></table></div></p><h4>6.3<tt>&nbsp;</tt><a name="(part._.Lambda_.Forms)"></a>Lambda Forms</h4><p>The lambda function definition is a valid object property value.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A (p0 (&#955; v v)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 #&lt;procedure:...nspiracy/object.rkt:275:32&gt;))</span></p></td></tr><tr><td><p><span class="stt">&gt; ((? p0 A) "Hello, World!")</span></p></td></tr><tr><td><p><span class="stt">'("Hello, World!")</span></p></td></tr></table></p><h4>6.4<tt>&nbsp;</tt><a name="(part._.Quoted_and_.Quasiquoted_.Values)"></a>Quoted and Quasiquoted Values</h4><p>You can quote and quasiquote the property value in the normal Racket way.</p><p><span style="font-weight: bold">Examples:</span></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 'pi)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 `(x y ,pi)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 pi)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 (x y 3.141592653589793)))</span></p></td></tr></table></p><h4>6.5<tt>&nbsp;</tt><a name="(part._______.Values)"></a><span style="font-style: italic">(...)</span> Values</h4><p><div class="SIntrapara">This value special form behaves as follows:
</div><div class="SIntrapara"><ul><li><p>When empty it represents the empty list.</p></li><li><p>When the first element is not a procedure it produces a list of the values.</p></li><li><p>When the first element is a procedure, it is treated as a procedure call.</p></li></ul></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&gt; (% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 (+ 1 2 3))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 ('+ x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 ((&#955; x x) 1 2 3)))</span></p></td></tr><tr><td><p><span class="stt">'A</span></p></td></tr><tr><td><p><span class="stt">&gt; (@ show A)</span></p></td></tr><tr><td><p><span class="stt">(% A</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(kinds (Object))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p0 6)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p1 (+ x y z))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(p2 (1 2 3)))</span></p></td></tr></table></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Special_Properties.html" title="backward to &quot;5 Special Properties&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Conspiracy Library&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Pseudo-Variables.html" title="forward to &quot;7 Pseudo-Variables&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>